{"version":3,"file":"js/app.6a1b247b.js","mappings":"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","sources":["webpack://santouguai_demo_v03/./src/App.vue","webpack://santouguai_demo_v03/./src/components/panel/DoodlePanel.vue","webpack://santouguai_demo_v03/./src/components/panel/TimbrePanel.vue","webpack://santouguai_demo_v03/./src/components/panel/TimbrePanel.vue?f497","webpack://santouguai_demo_v03/./src/components/panel/PianoPanel.vue","webpack://santouguai_demo_v03/./src/components/panel/AudioPanel.vue","webpack://santouguai_demo_v03/./src/components/panel/AudioPanel.vue?5e48","webpack://santouguai_demo_v03/./src/components/dialog/TransferDataDialog.vue","webpack://santouguai_demo_v03/./src/components/dialog/TransferDataDialog.vue?6c59","webpack://santouguai_demo_v03/./src/components/dialog/SaveChangeDialog.vue","webpack://santouguai_demo_v03/./src/js/ultilities.js","webpack://santouguai_demo_v03/./src/components/dialog/SaveChangeDialog.vue?8e78","webpack://santouguai_demo_v03/./src/components/panel/PianoPanel.vue?57cd","webpack://santouguai_demo_v03/./src/components/canvas/TimeTickerCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/TimeTickerCanvas.vue?f1bc","webpack://santouguai_demo_v03/./src/components/canvas/PianoCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/PianoCanvas.vue?83f0","webpack://santouguai_demo_v03/./src/js/TimbreDB.js","webpack://santouguai_demo_v03/./src/components/canvas/BasicCanvas.vue","webpack://santouguai_demo_v03/./src/js/CanvasData.js","webpack://santouguai_demo_v03/./src/components/canvas/BasicCanvas.vue?b5e7","webpack://santouguai_demo_v03/./src/components/canvas/TimbreSpaceCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/TimbreSpaceCanvas.vue?8f0d","webpack://santouguai_demo_v03/./src/components/canvas/PianoRollCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/PianoRollCanvas.vue?d73d","webpack://santouguai_demo_v03/./src/components/panel/DoodlePanel.vue?db58","webpack://santouguai_demo_v03/./src/App.vue?7ccd","webpack://santouguai_demo_v03/./src/plugins/element.js","webpack://santouguai_demo_v03/./src/main.js","webpack://santouguai_demo_v03/webpack/bootstrap","webpack://santouguai_demo_v03/webpack/runtime/chunk loaded","webpack://santouguai_demo_v03/webpack/runtime/compat get default export","webpack://santouguai_demo_v03/webpack/runtime/define property getters","webpack://santouguai_demo_v03/webpack/runtime/global","webpack://santouguai_demo_v03/webpack/runtime/hasOwnProperty shorthand","webpack://santouguai_demo_v03/webpack/runtime/node module decorator","webpack://santouguai_demo_v03/webpack/runtime/jsonp chunk loading","webpack://santouguai_demo_v03/webpack/startup"],"sourcesContent":["<template>\n  <DoodlePanel ></DoodlePanel>\n</template>\n\n<script>\nimport DoodlePanel from './components/panel/DoodlePanel';\nimport axios from \"axios\";\n\nexport default {\n  name: 'App',\n  components: {\n    DoodlePanel\n  },\n\n}\n</script>\n\n<style>\n#app {\n\n}\n</style>\n","<template>\r\n    <div class=\"canvasLCss\">\r\n      <el-affix :offset=\"10\">\r\n        <div class=\"canvasFixCss\" >\r\n          <div class=\"canvasPianoLCss\" ref=\"canvasPianoLCss\">\r\n            <piano-canvas ref=\"piano\"></piano-canvas>\r\n          </div>\r\n          <div class=\"canvasPianoRCss\">\r\n            <div class=\"canvasTimeTickerTCss\" ref=\"canvasTimeTickerTCss\">\r\n              <time-ticker-canvas ref=\"timbreTicker\"></time-ticker-canvas>\r\n            </div>\r\n            <div class=\"canvasTimeTickerBCss\" ref=\"canvasLFix\">\r\n              <piano-roll-canvas ref=\"testCanvas\" canvasName=\"timbreSpaceCVS\"\r\n                :W=\"canvasLCssW\" :H=\"canvasLCssH\" :blockY=\"true\"\r\n                       @pianoPanelAction=\"pianoPanelAction\"\r\n                       @timbrePanelAction=\"timbrePanelAction\"\r\n                       @timbreSpaceAction=\"timbreSpaceAction\"></piano-roll-canvas>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </el-affix>\r\n      <div class=\"lControllerCss\">\r\n        <piano-panel :sources=\"sources\" ref=\"pianoPanel\"\r\n                     @pianoRollAction=\"pianoRollAction\"\r\n                     @timbrePanelAction=\"timbrePanelAction\"\r\n                     @timbreSpaceAction=\"timbreSpaceAction\"\r\n                     @updateSources=\"updateSources\"\r\n                     @updateCanvas=\"updateCanvas\"\r\n                     @refreshCanvas=\"refreshCanvas\"\r\n                    @changeTrk=\"changeTrk\"></piano-panel>\r\n      </div>\r\n    </div>\r\n    <div class=\"canvasRCss\">\r\n      <el-affix :offset=\"10\">\r\n        <div class=\"canvasFixCss\" ref=\"canvasRFix\">\r\n          <timbre-space-canvas ref=\"timbrePalette\" :brushSize=\"2.4\" :strokeSize=\"0.2\" canvasName=\"timbreSpaceCVS\"\r\n               :W=\"canvasRCssW\" :H=\"canvasRCssH\"></timbre-space-canvas>\r\n        </div>\r\n      </el-affix>\r\n      <div class=\"rControllerCss\">\r\n        <timbre-panel :sources=\"sources\" ref=\"timbrePanel\" @pianoPanelAction=\"pianoPanelAction\"\r\n                      @changeTrk=\"changeTrk\"\r\n                      @timbreSpaceAction=\"timbreSpaceAction\"\r\n                      @updateSources=\"updateSources\"></timbre-panel>\r\n      </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport TimbrePanel from '@/components/panel/TimbrePanel';\r\nimport PianoPanel from '@/components/panel/PianoPanel';\r\n\r\nimport axios from \"axios\";\r\nimport TimeTickerCanvas from \"@/components/canvas/TimeTickerCanvas\";\r\nimport PianoCanvas from \"@/components/canvas/PianoCanvas\";\r\nimport TimbreSpaceCanvas from \"@/components/canvas/TimbreSpaceCanvas\";\r\nimport PianoRollCanvas from \"@/components/canvas/PianoRollCanvas\";\r\n\r\nexport default {\r\n  name: \"DoodlePanel\",\r\n\r\n  components: {\r\n    PianoRollCanvas,\r\n    TimbreSpaceCanvas,\r\n    PianoCanvas,\r\n    TimeTickerCanvas,\r\n    TimbrePanel,\r\n    PianoPanel,\r\n  },\r\n  data(){\r\n    return {\r\n      canvasLCssW : 100,\r\n      canvasLCssH : 100,\r\n      canvasRCssW : 100,\r\n      canvasRCssH : 100,\r\n      sources : [{\"id\" : 1, \"label\" : \"Undefined\"}],\r\n      selectTrk : 1,\r\n      //sources : [{\"id\" : 2, \"label\" : \"Trumpet\"}, {\"id\" : 0, \"label\" : \"Trombone\"},\r\n      //              {\"id\" : 1, \"label\" : \"Horn\"}],\r\n    }\r\n  },\r\n  mounted() {\r\n    let canvasLFix = this.$refs.canvasLFix;\r\n    let canvasRFix = this.$refs.canvasRFix;\r\n    this.canvasLCssW = canvasLFix.clientWidth;\r\n    this.canvasLCssH = canvasLFix.clientHeight;\r\n    this.canvasRCssW = canvasRFix.clientWidth;\r\n    this.canvasRCssH = canvasRFix.clientHeight;\r\n    this.$refs.testCanvas.emptyCanvas(this.canvasLCssW, this.canvasLCssH, null);\r\n    this.$refs.timbrePalette.emptyCanvas(this.canvasRCssW, this.canvasRCssH, null);\r\n    this.$refs.timbreTicker.setSize(this.$refs.canvasTimeTickerTCss.clientWidth, this.$refs.canvasTimeTickerTCss.clientHeight);\r\n    this.$refs.piano.setSize(this.$refs.canvasPianoLCss.clientWidth,\r\n        this.$refs.canvasPianoLCss.clientHeight,\r\n        this.$refs.canvasTimeTickerTCss.clientHeight);\r\n    //this.pianoRollAction({\"func\": \"emptyCanvas\", \"arg\" : null});\r\n    //this.timbreSpaceAction({\"func\":\"emptyCanvas\", \"arg\": null});\r\n    //this.load_data();\r\n  },\r\n  methods:{\r\n    refreshCanvas(val){\r\n      if(val == null){\r\n        this.$refs.testCanvas.emptyCanvas(this.canvasLCssW, this.canvasLCssH, null);\r\n        this.$refs.timbrePalette.emptyCanvas(this.canvasRCssW, this.canvasRCssH, null);\r\n      }else{\r\n        let pianoroll = {\"data\" : val.pianoRoll, \"color\" : val.color};\r\n        let timbre = {\"data\" : val.timbre, \"color\" : val.color};\r\n        this.$refs.timbrePalette.initSpace(val.pca, val.center);\r\n        this.$refs.testCanvas.emptyCanvas(this.canvasLCssW, this.canvasLCssH, pianoroll);\r\n        this.$refs.timbrePalette.emptyCanvas(this.canvasRCssW, this.canvasRCssH, timbre);\r\n\r\n      }\r\n\r\n    },\r\n    updateCanvas(val){\r\n      this.$refs.timbreTicker.refresh(val[0], val[2]);\r\n      this.$refs.piano.refresh(val[1], val[3]);\r\n    },\r\n\r\n    pianoPanelAction(val) {\r\n      console.log(\"here2\", val)\r\n      this.$refs.pianoPanel.callFunc(val);\r\n    },\r\n    pianoRollAction(val) {\r\n      this.$refs.testCanvas.callFunc(val);\r\n    },\r\n    timbrePanelAction(val) {\r\n      this.$refs.timbrePanel.callFunc(val);\r\n    },\r\n    timbreSpaceAction(val) {\r\n      this.$refs.timbrePalette.callFunc(val);\r\n    },\r\n    changeTrk(val){\r\n      let func = {\"func\" : \"selectChangeTrk\", \"arg\": val}\r\n      this.pianoRollAction(func);\r\n      this.timbreSpaceAction(func);\r\n      this.$refs.pianoPanel.$refs.audioPanel.setSelectTrk(val);\r\n      this.$refs.pianoPanel.selectTrk = val;\r\n      this.$refs.timbrePanel.selectTrk = val;\r\n      this.selectTrk = val;\r\n    },\r\n    updateSources(val){\r\n      if(val != null){\r\n        this.sources = val;\r\n        console.log(this.sources)\r\n        return\r\n      }\r\n      let tags = this.$refs.timbrePalette.timbreDB.centerData.tag, sources = [];\r\n      for(let i = 0; i< tags.length; ++ i){\r\n        sources.push({\"value\" : i + 1 + \"\", \"label\" : tags[i]});\r\n      }\r\n      this.sources = sources;\r\n      this.changeTrk(this.selectTrk);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nhtml, body{\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #84a2d3;\r\n  //  background-color: #84a2d3;\r\n}\r\n.canvasLCss{\r\n  float: left;\r\n  position: relative;\r\n  width: 60%;\r\n  height: 420px;\r\n  margin-left: 5px;\r\n  margin-top: 5px;\r\n  background-color: rgba(232, 232, 232, 0.99);\r\n  box-shadow: 0 0 3px 3px #666;\r\n\r\n}\r\n.canvasRCss{\r\n  float: left;\r\n  position: relative;\r\n  width: 30%;\r\n  height: 420px;\r\n  margin-left: 30px;\r\n  margin-top: 5px;\r\n  background-color: rgba(232, 232, 232, 0.99);\r\n  box-shadow: 0 0 3px 3px #666;\r\n\r\n}\r\n.canvasFixCss{\r\n  width: 100%;\r\n  height: 415px;\r\n}\r\n.canvasTimeTickerTCss{\r\n  width: 100%;\r\n  height: 15px;\r\n}\r\n.canvasTimeTickerBCss{\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n.canvasPianoLCss{\r\n  width: 5%;\r\n  height: 415px;\r\n  float: left;\r\n}\r\n.canvasPianoRCss{\r\n  width: 95%;\r\n  height: 415px;\r\n  float: left;\r\n}\r\n.lControllerCss{\r\n  background-color: #b4ccef;\r\n  width: 100%;\r\n  height: 250px;\r\n  margin-top: 10px;\r\n\r\n}\r\n.rControllerCss{\r\n background-color: #b4ccef;\r\n  width: 100%;\r\n  height: 250px;\r\n  margin-top: 10px;\r\n\r\n}\r\n.controller{\r\n  float: left;\r\n  position: relative;\r\n  width: 620px;\r\n  height: 100%;\r\n  margin-left: 10px;\r\n  box-shadow: -7px 0px 5px -5px #333;\r\n  background-color: white;\r\n}\r\n\r\n\r\n\r\n</style>","<template>\r\n<div class=\"timbrePanelCss\">\r\n    <div class=\"narrowBandCss\"><span>Timbre database: </span></div>\r\n    <div class=\"hintCss\">\r\n      <div><b>Load</b> timbre embeddings from a database</div>\r\n      <div><b>Tag</b> sources using timbre embeddings in the database</div>\r\n      <div><b>Select</b> timbre embeddings to re-separate</div>\r\n      <div><b>Save</b> current timbre embeddings</div>\r\n    </div>\r\n    <div class=\"largeBandCss\">\r\n      <el-button type=\"primary\" ref=\"loadBt\" size=\"small\" :disabled=\"!analyzed\"  @click=\"onClickLoad\">Load</el-button>\r\n      <input type=\"file\" hidden ref=\"uploadDB\" @change=\"onClickLoadDB\">\r\n      <el-button type=\"warning\" ref=\"hideBt\" plain size=\"small\" :disabled=\"!analyzed\" @click=\"onClickCancel\" >{{hideDB}}</el-button>\r\n      <el-button type=\"primary\" size=\"small\" :disabled=\"timbreDB.length == 0\" @click=\"onClickTag\">Tag</el-button>\r\n      <el-button type=\"warning\"  size=\"small\" :disabled=\"!analyzed\">Select</el-button>\r\n\r\n  </div>\r\n  <div class=\"largeBandCss\">\r\n    <div class=\"largeWCss\">\r\n      <el-input :disabled=\"!analyzed\"\r\n        v-model=\"instr\"\r\n        placeholder=\"Instrument name\"\r\n        class=\"input-with-select\">\r\n        <template #prepend>\r\n        <el-select v-model=\"selectTrk\" @change=\"onSelectChangeTrk\" placeholder=\"Select\" style=\"width: 110px\" :disabled=\"!analyzed\">\r\n          <el-option  v-for=\"item in sources\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\r\n        </el-select>\r\n      </template>\r\n      </el-input>\r\n    </div>\r\n    <div class=\"narrowCss\"><el-button type=\"danger\" size=\"small\" :disabled=\"!analyzed\">Save</el-button></div>\r\n  </div>\r\n  <div class=\"largeBandCss\">\r\n    <div class=\"narrowWCss\"><span>Pitch range: </span></div>\r\n    <div class=\"midWCss\">\r\n      <el-slider v-model=\"pitchRange\" range :max=\"pitchMax\" :min=\"pitchMin\" size=\"small\" disabled\r\n                  class=\"slider\" @change=\"onChangePitchRange\"/>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"TimbrePanel\",\r\n  components: {\r\n  },\r\n  props :{\r\n    sources : Object,\r\n  },\r\n  data(){\r\n    return{\r\n      analyzed : false,\r\n      instr : \"undefined\",\r\n      pitchRange : [1, 128],\r\n      pitchMin : 1,\r\n      pitchMax : 128,\r\n      hideDB : \"hide\",\r\n      timbreDB : [],\r\n      selectTrk : 1,\r\n//:disabled=\"!analyzed\"\r\n    }\r\n  },\r\n  methods:{\r\n    callFunc(val){\r\n      let func = val.func, arg = val.arg;\r\n      this.$options.methods[func](this, arg);\r\n    },\r\n    setPitchRange(_this, val){\r\n      _this.pitchMin = val[0];\r\n      _this.pitchMax = val[1];\r\n      _this.pitchRange = val;\r\n    },\r\n    setAnalyzed(_this, val){\r\n      _this.analyzed = val.analyzed;\r\n    },\r\n    pianoPanelAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"pianoPanelAction\", val);\r\n    },\r\n    timbreSpaceAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbreSpaceAction\", val);\r\n    },\r\n    onChangePitchRange(evt){\r\n      //this.timbreSpaceAction(\"filter\", [129 - this.pitchRange[1], 129 - this.pitchRange[0]]);\r\n    },\r\n    onSelectChangeTrk(evt){\r\n      this.$emit(\"changeTrk\", this.selectTrk);\r\n    },\r\n    onClickLoad(){\r\n      this.$refs.uploadDB.click();\r\n\r\n    },\r\n    onClickLoadDB(evt){\r\n      let file = evt.target.files[0];\r\n      let reader = new FileReader();\r\n      let _this = this;\r\n      reader.onload = e => {\r\n        let json = JSON.parse(e.target.result);\r\n        _this.timbreDB = json;\r\n        _this.timbreSpaceAction(\"loadTimbreDB\", this.timbreDB);\r\n      };\r\n      reader.readAsText(file)\r\n      console.log(\"here\");\r\n\r\n    },\r\n    onClickCancel(evt){\r\n      if(this.hideDB == \"hide\"){\r\n        this.timbreSpaceAction(\"loadTimbreDB\", []);\r\n        this.hideDB = \"show\";\r\n      }else{\r\n        this.timbreSpaceAction(\"loadTimbreDB\", this.timbreDB);\r\n        this.hideDB = \"hide\";\r\n      }\r\n    },\r\n    onClickTag(evt){\r\n      this.timbreSpaceAction(\"tagTrks\", this.timbreDB);\r\n      this.$emit(\"updateSources\", null);\r\n\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.timbrePanelCss{\r\n  width: 100%;\r\n  margin-left: 5px;\r\n}\r\n.largeBandCss{\r\n  width: 100%;\r\n  float: left;\r\n  margin-top: 10px;\r\n  margin-left: 20px;\r\n}\r\n.narrowBandCss{\r\n  margin: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.hintCss{\r\n  margin-left: 20px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n\r\n.midWCss{\r\n  width: 50%;\r\n  float: left;\r\n}\r\n.narrowWCss{\r\n  padding-top: 6px;\r\n  width: 25%;\r\n  float: left;\r\n}\r\n.largeWCss{\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.narrowCss{\r\n  margin-top: 5px;\r\n  margin-left: 5px;\r\n  width: 30%;\r\n  height: 20px;\r\n  float: left;\r\n}\r\n\r\n\r\n\r\n</style>","import { render } from \"./TimbrePanel.vue?vue&type=template&id=738b19cb&scoped=true\"\nimport script from \"./TimbrePanel.vue?vue&type=script&lang=js\"\nexport * from \"./TimbrePanel.vue?vue&type=script&lang=js\"\n\nimport \"./TimbrePanel.vue?vue&type=style&index=0&id=738b19cb&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-738b19cb\"]])\n\nexport default __exports__","<template>\r\n<div class=\"pianoPanel\">\r\n  <div class=\"basicPanel\">\r\n    <div class=\"xlargeWCss\">\r\n      Mouse Settings:\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      &nbsp; - Click\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      <el-radio-group v-model=\"mode\" @change=\"onChangeMode\">\r\n        <div class=\"xlargeWCss\">\r\n          <el-radio :label=\"1\">Drag</el-radio>\r\n        </div>\r\n        <div class=\"xlargeWCss\">\r\n          <el-radio :label=\"2\">Crop</el-radio>\r\n        </div>\r\n        <div class=\"xlargeWCss\">\r\n          <el-radio :label=\"3\">Fill</el-radio>\r\n        </div>\r\n      </el-radio-group>\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      &nbsp; - Scroll\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      <el-checkbox v-model=\"enableZoom\" @change=\"onChangeZoom\">zoom</el-checkbox>\r\n    </div>\r\n  </div>\r\n  <div class=\"cropPanel\">\r\n    <audio-panel ref=\"audioPanel\" @setAnalyze=\"setAnalyze\"\r\n                 @setAudioData=\"setAudioData\"\r\n                  @updatePlayingBar=\"updatePlayingBar\"></audio-panel>\r\n  </div>\r\n  <div class=\"cropPanel\">\r\n    <transfer-data-dialog ref=\"transferDataDialog\" :sources=\"sources\"\r\n                          @setAnalyzed=\"setAnalyzed\"\r\n                          @setRepData=\"setRepData\"\r\n                          @setSepData=\"setSepData\"></transfer-data-dialog>\r\n    <div class=\"xlargeWCss\">\r\n      <div class=\"padWCss\"><span>Target source:</span></div>\r\n      <div class=\"largeWCss\">\r\n        <el-select v-model=\"selectTrk\" placeholder=\"Select source\" size=\"small\" :disabled=\"!analyzed\" @change=\"onSelectChangeTrk\">\r\n          <el-option  v-for=\"item in sources\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\r\n        </el-select>\r\n      </div>\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      <div class=\"padWCss\"><span>Start - End time (s):</span></div>\r\n      <div class=\"mlargeWCss\">\r\n        <div class=\"timeCss\"><el-input v-model=\"minSec\" disabled placeholder=\"00:00\" /></div>\r\n        <div class=\"narWCss\">-</div>\r\n        <div class=\"timeCss\"><el-input v-model=\"maxSec\" disabled placeholder=\"00:00\" /></div>\r\n  <!--      <el-slider class=\"slider\" v-model=\"cropAreaX\" range :max=\"cropAreaXMax\" :min=\"cropAreaXMin\" size=\"small\"\r\n                   :disabled=\"!analyzed\"\r\n                   @change=\"onChangeCrop\"/>-->\r\n      </div>\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n        <el-button type=\"warning\"   size=\"small\" @click=\"onClickCrop\" :disabled=\"!isCrop\">Crop</el-button>\r\n        <el-button type=\"primary\" plain size=\"small\" @click=\"onClickRevise\" :disabled=\"!isCrop\">Revise</el-button>\r\n        <el-button type=\"warning\"  size=\"small\" @click=\"onClickErase\" :disabled=\"!isCrop\">Erase</el-button>\r\n        <el-button type=\"primary\" plain size=\"small\" @click=\"onClickFill\" :disabled=\"!isPaint\">Fill</el-button>\r\n      </div>\r\n    <div class=\"xlargeWCss\">\r\n        <el-button type=\"warning\" plain size=\"small\" @click=\"onClickUndo\" :disabled=\"!isCrop\">Undo</el-button>\r\n        <el-button type=\"primary\"  size=\"small\" @click=\"onClickRedo\" :disabled=\"!isCrop\">Redo</el-button>\r\n        <el-button type=\"warning\" plain size=\"small\" @click=\"onClickReset\" :disabled=\"!isCrop\">Reset</el-button>\r\n      <el-button type=\"danger\"  size=\"small\" :disabled=\"!isCrop\" @click=\"onClickRefine\">Refine</el-button>\r\n      <save-change-dialog ref=\"saveChangeDialog\" @setAnalyzed=\"setAnalyzed\"\r\n                          @setSepData=\"setSepData\"></save-change-dialog>\r\n\r\n      </div>\r\n    </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport AudioPanel from \"@/components/panel/AudioPanel\"\r\nimport TransferDataDialog from \"@/components/dialog/TransferDataDialog\";\r\nimport SaveChangeDialog from \"@/components/dialog/SaveChangeDialog\";\r\nimport {formatTime} from \"../../js/ultilities\"\r\n\r\nexport default {\r\n  name: \"PianoPanel\",\r\n  components: {\r\n    SaveChangeDialog,\r\n    TransferDataDialog,\r\n    AudioPanel,\r\n  },\r\n  props :{\r\n    sources : Object,\r\n  },\r\n  data(){\r\n\r\n    return{\r\n      mode : 1,\r\n      enableZoom : true,\r\n      isSelect: false,\r\n      analyzed: false,\r\n      dialogFormVisible : false,\r\n      resUrl : \"\",\r\n      formLabelWidth : 120,\r\n      isDrag: false,\r\n      isCrop: false,\r\n      isPaint: false,\r\n      minSec : \"00:00\",\r\n      maxSec : \"00:00\",\r\n      selectTrk : 1,\r\n    }\r\n  },\r\n  methods:{\r\n    callFunc(val){\r\n      let func = val.func, arg = val.arg;\r\n      this.$options.methods[func](this, arg);\r\n    },\r\n\r\n    setAnalyze(){\r\n      this.analyzed = false;\r\n      this.$emit(\"refreshCanvas\", null);\r\n      this.$refs.transferDataDialog.setAnalyze();\r\n      this.$refs.audioPanel.setAnalyzed(this.analyzed);\r\n      this.reset();\r\n      let analyzed = {\"analyzed\" : this.analyzed, \"sources\" : this.sources, \"selectTrk\" : this.selectTrk};\r\n      this.$emit(\"timbrePanelAction\", {\"func\" : \"setAnalyzed\", \"arg\" : analyzed});\r\n    },\r\n    setRepData(val){\r\n      this.$refs.saveChangeDialog.setRepData(val);\r\n    },\r\n    setSepData(val){\r\n      this.$refs.audioPanel.setSepData(val);\r\n    },\r\n    setAnalyzed(val){\r\n      this.$emit(\"refreshCanvas\", val);\r\n      let allSources = []\r\n      for(let i = 0; i<this.$refs.transferDataDialog.sourcesNum; ++i) {\r\n        allSources.push({\"value\" : i + 1, \"label\" : (i + 1) + \"\"});\r\n      }\r\n      this.selectTrk = 1;\r\n      if(val == null){\r\n        this.analyzed = false;\r\n      }else{\r\n        this.analyzed = true;\r\n      }\r\n      this.$refs.audioPanel.setAnalyzed(this.analyzed);\r\n      let analyzed = {\"analyzed\" : this.analyzed, \"sources\" : allSources, \"selectTrk\" : this.selectTrk, \"pca\" : val.pca, \"center\" : val.center}\r\n      this.$emit(\"timbrePanelAction\", {\"func\" : \"setAnalyzed\", \"arg\" : analyzed});\r\n      this.$emit(\"updateSources\", allSources);\r\n\r\n    },\r\n    pianoRollAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"pianoRollAction\", val);\r\n    },\r\n    timbreSpaceAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbreSpaceAction\", val);\r\n    },\r\n\r\n    updatePlayingBar(val){\r\n      this.pianoRollAction(\"updatePlayingBar\", val);\r\n    },\r\n    reset(){\r\n      if(!this.analyzed){\r\n        this.isDrag = false;\r\n        this.isCrop = false;\r\n        this.isPaint = false;\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    onSetDrag(evt){\r\n      if(this.reset())\r\n        return;\r\n      this.isDrag = true;\r\n      this.isCrop = false;\r\n      this.isPaint = false;\r\n      this.pianoRollAction(\"setGeneral\");\r\n    },\r\n    onSetPaint(evt){\r\n      if(this.reset())\r\n        return;\r\n      this.isDrag = false;\r\n      this.isCrop = false;\r\n      this.isPaint = true;\r\n      this.pianoRollAction(\"setPaint\");\r\n    },\r\n    onSetCrop(evt){\r\n      if(this.reset())\r\n        return;\r\n      this.isDrag = false;\r\n      this.isCrop = true;\r\n      this.isPaint = false;\r\n      this.pianoRollAction(\"setCrop\");\r\n    },\r\n    onChangeZoom(evt){\r\n      this.pianoRollAction(\"setZoom\", this.enableZoom);\r\n      this.timbreSpaceAction(\"setZoom\", this.enableZoom);\r\n    },\r\n    onChangeMode(evt){\r\n      if(this.mode == 1)\r\n        this.onSetDrag(evt);\r\n      else if(this.mode == 2)\r\n        this.onSetCrop(evt);\r\n      else if(this.mode == 3)\r\n        this.onSetPaint(evt);\r\n    },\r\n    onSelectChangeTrk(evt){\r\n      this.$emit(\"changeTrk\", this.selectTrk);\r\n    },\r\n    updateSecRange(_this, arg){\r\n      _this.minSec = formatTime(arg[0]);\r\n      _this.maxSec = formatTime(arg[2]);\r\n      _this.$emit(\"updateCanvas\", arg);\r\n    },\r\n    onClickCrop(evt){\r\n      this.pianoRollAction(\"crop\");\r\n    },\r\n    onClickRevise(evt){\r\n      this.pianoRollAction(\"revise\");\r\n    },\r\n    onClickErase(evt){\r\n      this.pianoRollAction(\"erase\");\r\n    },\r\n    onClickFill(evt){\r\n      this.pianoRollAction(\"fill\");\r\n    },\r\n    onClickUndo(evt){\r\n      this.pianoRollAction(\"undo\");\r\n    },\r\n    onClickRedo(evt){\r\n      this.pianoRollAction(\"redo\");\r\n    },\r\n    onClickReset(evt){\r\n      this.pianoRollAction(\"reset\");\r\n    },\r\n    onClickRefine(evt){\r\n      this.pianoRollAction(\"setJsonData\", null);\r\n      this.$refs.saveChangeDialog.showDialog();\r\n    },\r\n\r\n    setJsonData(_this, val){\r\n      _this.$refs.saveChangeDialog.setJsonData(val);\r\n    },\r\n    setAudioData(val){\r\n      this.$refs.transferDataDialog.setAudioData(val);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.switch{\r\n    --el-switch-on-color: #174D96FF !important;\r\n}\r\n.slider {\r\n  .el-slider__bar{\r\n    --el-slider-main-background-color: #174D96FF;\r\n    }\r\n  .el-slider__button{\r\n    --el-slider-main-background-color: #174D96FF;\r\n    }\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.pianoPanel{\r\n  padding: 5px;\r\n  width: 100%;\r\n  height: 240px;\r\n}\r\n.basicPanel{\r\n  float: left;\r\n  width: 16%;\r\n  height: 100%;\r\n  background-color: #d3e5f6;\r\n}\r\n.cropPanel{\r\n  margin-left: 10px;\r\n  float: left;\r\n  width: 40%;\r\n  height: 100%;\r\n  background-color: #d3e5f6;\r\n}\r\n.paintPanel{\r\n  float: left;\r\n  width: 30%;\r\n  height: 100%;\r\n  margin-left: 10px;\r\n  background-color: #d3e5f6;\r\n}\r\n\r\n.xlargeWCss{\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.mlargeWCss{\r\n  margin-left: 20px;\r\n  width: 50%;\r\n  float: left;\r\n}\r\n.narCss{\r\n  //width: 80%;\r\n  width: 40%;\r\n  float: left;\r\n  padding-left: 0;\r\n  padding-right: 10px;\r\n}\r\n.largeWCss{\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.nnarWCss{\r\n  margin-right: 4px;\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  width: 15%;\r\n  float: left;\r\n  padding-left: 5%;\r\n  font-size: 20pt;\r\n}\r\n.midWCss{\r\n  margin-right: 5px;\r\n  width: 30%;\r\n  float: left;\r\n}\r\n.padWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 36%;\r\n  float: left;\r\n}\r\n.padNarWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 20%;\r\n  display: inline;\r\n  float: left;\r\n\r\n}\r\n.largeBandCss{\r\n  margin-top: 10px;\r\n  margin-left: 20px;\r\n  width: 100%;\r\n  height: 100px;\r\n\r\n}\r\n.narrowBandCss{\r\n  margin-top: 5px;\r\n  margin-left: 20px;\r\n  width: 100%;\r\n  height: 40px;\r\n}\r\n.hintCss{\r\n  width: 80%;\r\n  height: 10%;\r\n  margin-left: 15%;\r\n  margin-bottom: 4%;\r\n}\r\n.timeCss{\r\n  width: 40%;\r\n  float: left;\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"xlargeWCss\">\r\n    <div class=\"largePadWCss\">\r\n      <span>Upload a mixture:</span>\r\n      <div class=\"narWCss\">\r\n            mp3/wav file with a duration less than 2 min\r\n      </div>\r\n    </div>\r\n    <el-upload\r\n      ref=\"uploadRef\"\r\n      action=\"\"\r\n      :limit=\"1\"\r\n      :on-exceed=\"handleExceed\"\r\n      :on-change=\"onChangeFile\"\r\n      :auto-upload=\"false\">\r\n        <el-button type=\"primary\"  size=\"small\">Select</el-button>\r\n      </el-upload>\r\n    </div>\r\n\r\n  <div class=\"audioPlayer\">\r\n    <div class=\"xlargeWCss\">\r\n    <div class=\"narCss\">\r\n      <span>Audio play mode:</span>\r\n    </div>\r\n    <div class=\"largeWCss\">\r\n      <el-radio-group v-model=\"mode\" @change=\"onChangeMode\">\r\n          <el-radio :label=\"1\">Mixture</el-radio>\r\n          <el-radio :label=\"2\" :disabled=\"!analyzed\">Target sources</el-radio>\r\n      </el-radio-group>\r\n    </div>\r\n  </div>\r\n    <div class=\"xlargeWCss\" >\r\n      <audio id=\"myAudio\" controls :src=\"audioSrc\" @timeupdate=\"updateTime\"></audio>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AudioPanel\",\r\n  data(){\r\n    let current = 0, total = 0;\r\n    return{\r\n      sepURL : {},\r\n      mode: 1,\r\n      selectTrk : 1,\r\n      enableAudioSubmit : false,\r\n      analyzed : false,\r\n      audioSrc : \"mix.wav\",\r\n      hasRawInput : false,\r\n      hasSeparate : false,\r\n      minDur : current,\r\n      maxDur : total,\r\n      currentDur : current,\r\n      totalDur : total,\r\n      processStr : this.getFormatProcess(current, total),\r\n    }\r\n  },\r\n\r\n\r\n  watch:{\r\n    currentCur(){\r\n      this.processStr = this.getFormatProcess();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.audio = document.getElementById(\"myAudio\");\r\n  },\r\n  methods: {\r\n    padNum(x, n) {\r\n      return (Array(n).join(\"0\") + x).slice(-n);\r\n    },\r\n    formatTime(s) {\r\n      let m = Math.floor(s / 60);\r\n      s = s - m * 60;\r\n      return this.padNum(m, 2) + \" : \" + this.padNum(s, 2);\r\n    },\r\n    getFormatProcess(a, b) {\r\n      if (a == null) {\r\n        a = this.currentDur;\r\n        b = this.totalDur;\r\n      }\r\n      return this.formatTime(a) + \" - \" + this.formatTime(b);\r\n    },\r\n\r\n    updateTime(e){\r\n      this.currentDur = e.target.currentTime;\r\n      this.$emit(\"updatePlayingBar\", this.currentDur);\r\n    },\r\n    onChangeFile(file) {\r\n      file = file.raw;\r\n      let isAudio = (file.type === 'audio/mp3' || file.type === 'audio/wav');\r\n      let valiSize = file.size / 1024 / 1024 < 20;\r\n      if (!isAudio) {\r\n        this.$message.error(\"Please select a file with wav/mp3 format ()\");\r\n      }\r\n      if (!valiSize) {\r\n        this.$message.error('Refuse! it\\'s tooooo large ()');\r\n      }\r\n      if (isAudio && valiSize) {\r\n        let _this = this\r\n        let urlReader = new FileReader();\r\n        urlReader.readAsDataURL(file);\r\n        this.audioData = {\"data\" : file, \"type\" : file.type};\r\n        this.$emit(\"setAudioData\", this.audioData);\r\n        urlReader.onloadend = function (oFRevent) {\r\n          _this.mixtureURL = oFRevent.target.result;\r\n          _this.audioSrc = oFRevent.target.result;\r\n          _this.setAnalyze();\r\n        };\r\n      }else{\r\n        this.$refs.uploadRef.clearFiles()\r\n      }\r\n    },\r\n    onClickUpload(evt) {\r\n      this.$refs.uploadRef.submit();\r\n    },\r\n    onClickPlay() {\r\n      this.$refs.audio.play();\r\n    },\r\n    onChangeMode(){\r\n      let res = this.mode == 1 ? this.mixtureURL : this.sepURL[\"\"+(this.selectTrk - 1)];\r\n      this.changeAudioSrc(res);\r\n    },\r\n    changeAudioSrc(res){\r\n      let audio = this.audio;\r\n      let currentTime = audio.currentTime;\r\n      audio.pause();\r\n      this.audioSrc = res;\r\n      audio.onloadedmetadata = function() {\r\n        audio.currentTime = currentTime;\r\n        audio.play();\r\n      };\r\n    },\r\n    setSepData(val){\r\n      console.log(val.pos, val.data);\r\n      this.sepURL[val.pos + \"\"] = val.data;\r\n    },\r\n    setSelectTrk(val){\r\n      this.selectTrk = val;\r\n      if(this.mode == 2){\r\n        let res = this.sepURL[\"\"+(this.selectTrk - 1)];\r\n        this.changeAudioSrc(res);\r\n      }\r\n    },\r\n    setAnalyze(){\r\n      this.hasRawInput = true;\r\n      this.analyzed = false;\r\n      this.mode = 1;\r\n      this.audio.currentTime = 0;\r\n      this.$emit(\"setAnalyze\", null);\r\n    },\r\n    handleExceed(files){\r\n      this.$refs.uploadRef.clearFiles()\r\n      this.$refs.uploadRef.handleStart(files[0])\r\n    },\r\n    setAnalyzed(val){\r\n      if(!val){\r\n        this.mode = 1;\r\n      }\r\n      this.analyzed = val;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.audioPlayer{\r\n  margin-top: 15px;\r\n  padding-top: 10px;\r\n  margin-bottom: 10px;\r\n  margin-left: 5px;\r\n  width: 96%;\r\n  background-color: #b4ccef;\r\n  height: 45%;\r\n  float: left;\r\n}\r\n.xlargeWCss{\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.narCss{\r\n  width: 35%;\r\n  float: left;\r\n  padding-left: 0;\r\n  padding-right: 10px;\r\n}\r\n\r\n.largeWCss{\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.largePadWCss{\r\n  padding-top: 5px;\r\n  margin-left: 12px;\r\n  margin-right: 2px;\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  padding-left: 10px;\r\n  padding-top: 10px;\r\n  width: 90%;\r\n  font-size: 10pt;\r\n  color: gray;\r\n}\r\n</style>","import { render } from \"./AudioPanel.vue?vue&type=template&id=90c23d8a&scoped=true\"\nimport script from \"./AudioPanel.vue?vue&type=script&lang=js\"\nexport * from \"./AudioPanel.vue?vue&type=script&lang=js\"\n\nimport \"./AudioPanel.vue?vue&type=style&index=0&id=90c23d8a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-90c23d8a\"]])\n\nexport default __exports__","<template>\r\n   <div class=\"xlargeWCss\">\r\n      <div class=\"padWCss\"><span>Select sources num:</span></div>\r\n      <div class=\"nnarWCss\">\r\n        <el-select v-model=\"sourcesNum\" placeholder=\"Select\" size=\"small\" :disabled=\"!hasRawInput\" @change=\"onSelectChangeSourcesNum\">\r\n            <el-option\r\n              v-for=\"item in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\"\r\n              :key=\"item\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            />\r\n          </el-select>\r\n      </div>\r\n      <div class=\"narWCss\">\r\n        <el-button type=\"warning\"  size=\"small\" @click=\"dialogFormVisible=true\" :disabled=\"disAnalyze\">Analyze</el-button>\r\n      </div>\r\n   </div>\r\n    <div class=\"xlargeWCss\">\r\n      <el-dialog v-model=\"dialogFormVisible\" title=\"Analyze mixture...\" v-loading=\"loading\">\r\n        <el-form >\r\n          <el-timeline>\r\n            <el-timeline-item timestamp=\"Step 1\">\r\n              <el-button type=\"danger\" @click=\"onClickDownloadData\">Download</el-button>\r\n                  the data file\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 2\">\r\n                    Open this\r\n                    <a href=\"https://colab.research.google.com/github/anonymous-16/santouguai_v03_server/blob/main/santouguai_v03_step1.ipynb\">link</a>\r\n                    in a new window, upload the data file and run the model to get the result url.\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 3\">\r\n              <el-upload\r\n                    ref=\"uploadRef\"\r\n                    action=\"\"\r\n                    :limit=\"1\"\r\n                    :on-exceed=\"handleExceed\"\r\n                    :on-change=\"onChangeFile\"\r\n                    :auto-upload=\"false\">\r\n                    <el-button type=\"success\"  size=\"small\">Upload</el-button>the result file (output_step1.zip) and click 'confirm'\r\n              </el-upload>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </el-form>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\r\n            <el-button type=\"primary\" @click=\"onClickConfirm\">Confirm</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { saveAs } from 'file-saver';\r\nimport JSZip from 'jszip';\r\n\r\nexport default {\r\n  name: \"TransferDataDialog\",\r\n  props:{\r\n    sources: Object,\r\n  },\r\n  data(){\r\n    return{\r\n      loading: false,\r\n      allSources: this.sources,\r\n      disAnalyze: true,\r\n      sourcesNum: 1,\r\n      hasRawInput: false,\r\n      dialogFormVisible: false,\r\n      selectedFile : null,\r\n      jsonData : null,\r\n    }\r\n  },\r\n  methods:{\r\n    setAudioData(val){\r\n      this.audioData = val;\r\n    },\r\n    onClickDownloadData(evt){\r\n      let data = this.audioData;\r\n      let audioData = data.data;\r\n      let audioType = data.type;\r\n      const blob = new Blob([audioData], {type: audioType});\r\n      const zip = new JSZip();\r\n      let dataPath = audioType == \"audio/wav\" ? \"input_data/mix.wav\" : \"input_data/mix.mp3\"\r\n      zip.file(dataPath, blob);\r\n      let metaData = {\"sourcesNum\" : this.sourcesNum, \"audioType\" : audioType};\r\n      metaData = JSON.stringify(metaData);\r\n      //const metaBlob = new Blob([metaData], {type: \"application/json\"});\r\n      zip.file(\"input_data/metadata\", metaData);\r\n      zip.generateAsync({type: \"blob\", compression: \"DEFLATE\", compressionOptions: {level: 9}}).then((content) => {\r\n          saveAs(content, \"input_data.zip\");\r\n        });\r\n    },\r\n    onChangeFile(file) {\r\n      file = file.raw;\r\n      let isVali = (file.type === 'application/zip');\r\n      if (!isVali) {\r\n        this.$message.error(\"Please select 'output_step1.zip' ()\");\r\n        this.$refs.uploadRef.clearFiles()\r\n        this.selectedFile = null;\r\n      }else{\r\n        this.selectedFile = file;\r\n      }\r\n\r\n    },\r\n    handleExceed(files){\r\n      this.$refs.uploadRef.clearFiles()\r\n      this.$refs.uploadRef.handleStart(files[0])\r\n    },\r\n    onClickConfirm(evt){\r\n      this.loading = true;\r\n      let file = this.selectedFile;\r\n      if(file == null){\r\n        this.$message.error(\"Please select the file 'output_step1.zip' ()\");\r\n        return;\r\n      }\r\n      let arReader = new FileReader();\r\n      arReader.readAsArrayBuffer(file);\r\n      let data = this.audioData;\r\n      let audioData = data.data;\r\n      let audioType = data.type;\r\n      const blob = new Blob([audioData], {type: audioType});\r\n      this.audioBlob = blob;\r\n      let _this = this;\r\n      arReader.onloadend = function (oFRevent) {\r\n        let data = oFRevent.target.result;\r\n        JSZip.loadAsync(data).then((zip) => {\r\n          let base = zip.file(\"output_step1/data.json\").async(\"string\");\r\n          _this.setRepData({\"sourcesNum\" : _this.sourcesNum, \"mix\" : _this.audioBlob})\r\n          base.then(res => {\r\n            let json = JSON.parse(res);\r\n            _this.jsonData = json;\r\n            _this.setAnalyzed();\r\n          });\r\n          for(let i = 0;i < _this.sourcesNum; ++i){\r\n            let unit = zip.file(\"output_step1/\" + i + \".wav\").async(\"blob\");\r\n            unit.then(res => {\r\n                _this.setSepData(URL.createObjectURL(res), i, _this.sourcesNum);\r\n              });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    onSelectChangeSourcesNum(val){\r\n      this.disAnalyze = false;\r\n    },\r\n    setSepData(data, pos, sourcesNum){\r\n      let val = {\"data\" : data, \"pos\" : pos, \"sourcesNum\" : sourcesNum};\r\n      this.$emit(\"setSepData\", val);\r\n    },\r\n    setRepData(val){\r\n      this.$emit(\"setRepData\", val);\r\n    },\r\n    setAnalyzed(){\r\n      this.disAnalyze = true;\r\n      this.loading = false;\r\n      this.dialogFormVisible = false;\r\n      this.$emit(\"setAnalyzed\", this.jsonData);\r\n    },\r\n    setAnalyze(){\r\n      this.disAnalyze = false;\r\n      this.hasRawInput = true;\r\n      this.jsonData = null;\r\n    }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.xlargeWCss{\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.nnarWCss{\r\n  margin-right: 4px;\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.padWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 36%;\r\n  float: left;\r\n}\r\n\r\n</style>","import { render } from \"./TransferDataDialog.vue?vue&type=template&id=166eb34a&scoped=true\"\nimport script from \"./TransferDataDialog.vue?vue&type=script&lang=js\"\nexport * from \"./TransferDataDialog.vue?vue&type=script&lang=js\"\n\nimport \"./TransferDataDialog.vue?vue&type=style&index=0&id=166eb34a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-166eb34a\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"xlargeWCss\">\r\n      <el-dialog v-model=\"dialogFormVisible\" title=\"Revise result...\">\r\n        <el-form >\r\n          <el-timeline>\r\n            <el-timeline-item timestamp=\"Step 1\">\r\n              <el-button type=\"danger\" @click=\"onClickDownloadData\" v-loading=\"loading\">Download</el-button>\r\n                  the data file\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 2\">\r\n                    Open this\r\n                    <a href=\"https://colab.research.google.com/github/anonymous-16/santouguai_v03_server/blob/main/santouguai_v03_step2.ipynb\">link</a>\r\n                    in a new window, upload the data file and run the model to get the result url.\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 3\">\r\n              <el-upload\r\n                    ref=\"uploadRef\"\r\n                    action=\"\"\r\n                    :limit=\"1\"\r\n                    v-loading=\"loading\"\r\n                    :on-exceed=\"handleExceed\"\r\n                    :on-change=\"onChangeFile\"\r\n                    :auto-upload=\"false\">\r\n                    <el-button type=\"success\"  size=\"small\">Upload</el-button>the result file (output_step2.zip) and click 'confirm'\r\n              </el-upload>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </el-form>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\r\n            <el-button type=\"primary\" @click=\"onClickConfirm\">Confirm</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport JSZip from \"jszip\";\r\nimport { saveAs } from 'file-saver';\r\nimport {encode} from '../../js/ultilities';\r\n\r\nexport default {\r\n  name: \"SaveChangeDialog\",\r\n  data(){\r\n    return{\r\n      dialogFormVisible : false,\r\n      jsonData : null,\r\n      loading : false,\r\n    }\r\n  },\r\n  methods:{\r\n    setJsonData(val){\r\n      this.jsonData = {\"data\" : val, \"sourcesNum\" : this.sourcesNum};\r\n    },\r\n    setRepData(val){\r\n      //this.repData = val.data;\r\n      this.sourcesNum = val.sourcesNum;\r\n      this.audioBlob = val.mix;\r\n    },\r\n    showDialog(){\r\n      this.dialogFormVisible = true;\r\n    },\r\n    onClickDownloadData(evt){\r\n      if(this.jsonData == null || this.audioBlob == null){\r\n        this.$message.error(\"ahhhhhhhhhhhhhhhhhhhhhhhh' ()\");\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      const zip = new JSZip();\r\n      let str = encode(JSON.stringify(this.jsonData));\r\n      let json_blob = new Blob( [ str ], {type: 'application/octet-stream'});\r\n      let json_dataPath = \"revised_data/data.json\"\r\n      zip.file(json_dataPath, json_blob);\r\n      let audio_path = \"revised_data/mix.wav\";\r\n      zip.file(audio_path, this.audioBlob);\r\n      zip.generateAsync({type: \"blob\", compression: \"DEFLATE\", compressionOptions: {level: 9}}).then((content) => {\r\n          saveAs(content, \"revised_data.zip\");\r\n          this.loading = false;\r\n        });\r\n    },\r\n    onChangeFile(file) {\r\n      file = file.raw;\r\n      let isVali = (file.type === 'application/zip' && file.name === 'output_step2.zip');\r\n      if (!isVali) {\r\n        this.$message.error(\"Please select 'output_step2.zip' ()\");\r\n        this.$refs.transferUploadRef.clearFiles()\r\n        this.selectedFile = null;\r\n      }else{\r\n        this.selectedFile = file;\r\n      }\r\n\r\n    },\r\n    handleExceed(files){\r\n      this.$refs.uploadRef.clearFiles()\r\n      this.$refs.uploadRef.handleStart(files[0])\r\n    },\r\n    onClickConfirm(evt){\r\n      let file = this.selectedFile;\r\n      if(file == null){\r\n        this.$message.error(\"Please select the file 'output_step2.zip' ()\");\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      let arReader = new FileReader();\r\n      arReader.readAsArrayBuffer(file);\r\n      let _this = this;\r\n      arReader.onloadend = function (oFRevent) {\r\n        let data = oFRevent.target.result;\r\n        JSZip.loadAsync(data).then((zip) => {\r\n          let base = zip.file(\"output_step2/data.json\").async(\"string\");\r\n              base.then(res => {\r\n                let json = JSON.parse(res);\r\n                _this.setAnalyzed(json);\r\n              });\r\n          _this.sepURL = []\r\n          for(let i = 0;i < _this.sourcesNum; ++i){\r\n            let unit = zip.file(\"output_step2/\" + i + \".wav\").async(\"blob\");\r\n              unit.then(res => {\r\n                _this.setSepData(URL.createObjectURL(res), i, _this.sourcesNum);\r\n              });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    setSepData(data, pos, sourcesNum) {\r\n      let val = {\"data\": data, \"pos\": pos, \"sourcesNum\": sourcesNum};\r\n      this.$emit(\"setSepData\", val);\r\n    },\r\n    setAnalyzed(val){\r\n      this.disAnalyze = true;\r\n      this.loading = false;\r\n      this.dialogFormVisible = false;\r\n      this.$emit(\"setAnalyzed\", val);\r\n      this.jsonData = null;\r\n    },\r\n  },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.xlargeWCss{\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.nnarWCss{\r\n  margin-right: 4px;\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.padWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 36%;\r\n  float: left;\r\n}\r\n\r\n</style>","\r\nfunction copy(x){\r\n    return JSON.parse(JSON.stringify(x));\r\n}\r\nfunction swap(x, y){\r\n      let t = x;\r\n      x = y;\r\n      y = t;\r\n      return [x, y];\r\n    }\r\n\r\nfunction formatRect(p1, p2){\r\n    let x = p1[0], y = p1[1];\r\n    let w = p2[0] - x, h = p2[1] - y;\r\n    if(w < 0){\r\n        w = -w;\r\n        x = p2[0];\r\n    }\r\n    if(h < 0){\r\n        h = -h;\r\n        y = p2[1];\r\n    }\r\n    return [x, y, w, h];\r\n}\r\nfunction encode( s ) {\r\n\tlet out = [];\r\n\tfor ( let i = 0; i < s.length; i++ ) {\r\n\t\tout[i] = s.charCodeAt(i);\r\n\t}\r\n\treturn new Uint8Array( out );\r\n}\r\nfunction formatTime(x, float=0){\r\n    let min = Math.floor(x / 60);\r\n    let sec = x - min * 60;\r\n    sec = float>0?sec.toFixed(float):Math.floor(sec);\r\n    min = (min + \"\").padStart(2, \"0\");\r\n    sec = (sec + \"\").padStart(2, \"0\");\r\n\r\n    min = min.slice(-2, min.length);\r\n    if(float == 0){\r\n        sec = sec.slice(-2, sec.length);\r\n    }else{\r\n        sec = sec.slice(-3 - float, sec.length);\r\n    }\r\n    return min + \":\" + sec;\r\n}\r\n\r\nexport {copy, formatRect, swap, formatTime, encode}","import { render } from \"./SaveChangeDialog.vue?vue&type=template&id=ab97b44c&scoped=true\"\nimport script from \"./SaveChangeDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SaveChangeDialog.vue?vue&type=script&lang=js\"\n\nimport \"./SaveChangeDialog.vue?vue&type=style&index=0&id=ab97b44c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab97b44c\"]])\n\nexport default __exports__","import { render } from \"./PianoPanel.vue?vue&type=template&id=17be0f7b&scoped=true\"\nimport script from \"./PianoPanel.vue?vue&type=script&lang=js\"\nexport * from \"./PianoPanel.vue?vue&type=script&lang=js\"\n\nimport \"./PianoPanel.vue?vue&type=style&index=0&id=17be0f7b&lang=scss\"\nimport \"./PianoPanel.vue?vue&type=style&index=1&id=17be0f7b&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17be0f7b\"]])\n\nexport default __exports__","<template>\r\n<div>\r\n  <canvas ref=\"canvas\"></canvas>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {formatTime} from '../../js/ultilities';\r\n\r\nexport default {\r\n  name: \"TimeTickerCanvas\",\r\n  mounted() {\r\n    this.cvs = this.$refs.canvas;\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n  },\r\n  methods:{\r\n    setSize(w, h){\r\n      this.W = w;\r\n      this.H = h;\r\n      this.cvs.width = this.W;\r\n      this.cvs.height = this.H;\r\n    },\r\n    formatSec(minSc, maxSc){\r\n      let dt = 1, float=0;\r\n      if(maxSc - minSc <= 30 && maxSc - minSc > 10){\r\n        dt = 2;\r\n        float = 0;\r\n      }else if(maxSc - minSc <= 10 && maxSc - minSc > 5){\r\n        dt = 10;\r\n        float = 0;\r\n      }else if(maxSc - minSc <= 5){\r\n        dt = 20;\r\n        float = 1;\r\n      }\r\n      maxSc = maxSc * dt;\r\n      minSc = minSc * dt;\r\n      return [minSc, maxSc, dt, float];\r\n    },\r\n    refresh(minSec, maxSec){\r\n      let ctx = this.ctx;\r\n      let MB = 10, scale, float;\r\n      ctx.clearRect(0, 0, this.W, this.H);\r\n      ctx.lineWidth = 1;\r\n      ctx.strokeStyle = \"#000000\";\r\n      [minSec, maxSec, scale, float] = this.formatSec(minSec, maxSec);\r\n      let dt = this.W / (maxSec - minSec)\r\n      for(let i = 0; i <= maxSec - minSec; ++i){\r\n        ctx.beginPath();\r\n        ctx.moveTo(i * dt,0);\r\n        if(Math.floor((minSec + i) / MB) * MB == minSec + i){\r\n          ctx.lineTo(i * dt, this.H);\r\n          ctx.stroke();\r\n          ctx.fillText(formatTime((minSec + i)*1./scale, float), (i + 0.1) * dt, this.H)\r\n        }\r\n        else{\r\n          ctx.lineTo(i * dt,this.H *0.4);\r\n          ctx.stroke();\r\n        }\r\n\r\n\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./TimeTickerCanvas.vue?vue&type=template&id=5d4515f7\"\nimport script from \"./TimeTickerCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./TimeTickerCanvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<div>\r\n  <canvas ref=\"canvas\"></canvas>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PianoCanvas\",\r\n  mounted() {\r\n    this.cvs = this.$refs.canvas;\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n  },\r\n  methods:{\r\n    setSize(w, h, padH){\r\n      this.W = w;\r\n      this.H = h;\r\n      this.padH = padH;\r\n      this.cvs.width = this.W;\r\n      this.cvs.height = this.H;\r\n    },\r\n    getWhiteKeys(x){\r\n      let register = Math.floor((x + 9) / 12);\r\n      let octave = x + 9 - register * 12;\r\n      if(x <= 6)\r\n        return Math.floor((x + 2) / 2) + register * 7;\r\n      else\r\n        return Math.floor((x + 3) / 2)+ register * 7;\r\n    },\r\n    refresh(minPitch, maxPitch) {\r\n      let ctx = this.ctx, h = this.H - this.padH;\r\n      minPitch = 128 - maxPitch;\r\n      maxPitch = 128 - minPitch;\r\n      let onset = this.getWhiteKeys(minPitch);\r\n      let offset = this.getWhiteKeys(maxPitch);\r\n      let keys_num = offset - onset;\r\n      let dt = h * 1. / keys_num;\r\n\r\n      this.ctx.strokeStyle = \"black\";\r\n      ctx.lineWidth = 1;\r\n      let st = 0;\r\n      for(let i = 0; i < keys_num; ++ i){\r\n        ctx.strokeRect(0, i * dt + this.padH, this.W, dt);\r\n      }\r\n    },\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./PianoCanvas.vue?vue&type=template&id=6899674c\"\nimport script from \"./PianoCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./PianoCanvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","class TimbreDB {\r\n    constructor(pca, center) {\r\n        this.mean = pca.mean;\r\n        this.cps = pca.cps;\r\n        this.centerEmb = center;\r\n        this.data = [];\r\n        this.embeddings = {\"data\" : [], \"tag\" : []};\r\n        this.centerData = {\"data\" : [], \"tag\" : []};\r\n        this.initialize();\r\n\r\n    }\r\n\r\n    initialize() {\r\n        let centerData = this.pcaTransform(this.centerEmb);\r\n        let tags = []\r\n        for(let i = 0; i < centerData.length; ++i)\r\n            tags.push((i + 1) + \"\");\r\n        let centerTags = tags;\r\n        this.centerData = {\"data\" : centerData, \"tag\" : centerTags};\r\n    }\r\n\r\n    tag(){\r\n        for (let i = 0; i < this.centerData.data.length; ++ i){\r\n            let ind = -1, minVal = 233333;\r\n            for(let j = 0; j < this.embeddings.data.length; ++j){\r\n                let val = 0;\r\n                for(let k = 0; k < this.embeddings.data[j].length; ++k) {\r\n                    val += (this.embeddings.data[j][k] - this.centerData.data[i][k])**2;\r\n                }\r\n                if(val < minVal){\r\n                    minVal = val;\r\n                    ind = j;\r\n                }\r\n            }\r\n            this.centerData.tag[i] = this.embeddings.tag[ind];\r\n        }\r\n    }\r\n    load_db(data){\r\n        this.data = data;\r\n        let tags = [];\r\n        let embeddings = [];\r\n        for(let i = 0; i < data.length;++ i){\r\n            tags.push(data[i].tag);\r\n            embeddings.push(data[i].embedding);\r\n        }\r\n        embeddings = this.pcaTransform(embeddings);\r\n        this.embeddings = {\"data\" : embeddings, \"tag\" : tags};\r\n    }\r\n\r\n    pcaTransform(x){\r\n        let y = [];\r\n        for(let i = 0; i < x.length ; ++ i){\r\n            let res = []\r\n            for(let j = 0; j < this.cps[0].length; ++ j){\r\n                let val = 0.;\r\n                for(let k = 0; k < this.cps.length; ++ k){\r\n                    val += (x[i][k] - this.mean[k]) * this.cps[k][j];\r\n                }\r\n                res.push(val);\r\n            }\r\n            y.push(res);\r\n        }\r\n        return y;\r\n    }\r\n\r\n    getCenters(){\r\n        return this.centerData;\r\n    }\r\n\r\n    getEmbeddings(){\r\n        return this.embeddings;\r\n    }\r\n}\r\n\r\nfunction createTimbreDB(pca, center){\r\n    let timbreDB = new TimbreDB(pca, center);\r\n    return timbreDB;\r\n}\r\n\r\nexport {createTimbreDB}","<template>\r\n  <div style=\"background-color: white\">\r\n    <canvas ref=\"canvas\"\r\n            ></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {copy} from '../../js/ultilities';\r\nimport {createCanvasData} from '../../js/CanvasData';\r\n\r\nimport { ElMessage } from 'element-plus'\r\nexport default {\r\n  name: \"BasicCanvas\",\r\n  props:{\r\n    sources : Object,\r\n    W : Number,\r\n    H : Number,\r\n    strokeSize: {\r\n      type: Number,\r\n      default :1,\r\n    },\r\n    brushSize: {\r\n      type : Number,\r\n      default : 0,\r\n    },\r\n    blockX: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    blockY: {\r\n      type: Boolean,\r\n      default: false,\r\n    }\r\n\r\n  },\r\n  data(){\r\n    return {\r\n      enableZoom : true,\r\n      isGeneral : false,\r\n      isCrop : false,\r\n      isPaint : false,\r\n      isDown : -1,\r\n      selectTrk : 1,\r\n      unlock : true,\r\n      brushScale : 1,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n    this.cvs = this.$refs.canvas;\r\n    this.emptyCanvas(this.W, this.H, null);\r\n    this.cvs.onmousedown = this.mouseDown;\r\n    this.cvs.onmouseup = this.mouseUp;\r\n    this.cvs.onmousemove = this.mouseMove;\r\n    this.cvs.onMouseout = this.mouseOut;\r\n    this.cvs.onmousewheel = this.mouseWheel;\r\n  },\r\n  methods:{\r\n    callFunc(val){\r\n      let func = val.func, arg = val.arg;\r\n      this.$options.methods[func](this, arg);\r\n    },\r\n\r\n    setGeneral(_this, val){\r\n      _this.isGeneral = true;\r\n      _this.isCrop = false;\r\n      _this.isPaint = false;\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    setZoom(_this, val){\r\n      _this.enableZoom = val;\r\n    },\r\n\r\n    cleanSelectArea(){\r\n      let x, y, w, h;\r\n      [x, y, w, h] = this.canvasData.selectedArea()\r\n      if(w == 0 || h == 0)\r\n        return;\r\n      this.ctx.clearRect(x, y, w, h);\r\n    },\r\n    getMousePos(evt) {\r\n      let cvs = this.cvs;\r\n      let rect = cvs.getBoundingClientRect();\r\n      return [\r\n        (evt.clientX -rect.left) * cvs.width / rect.width,\r\n        (evt.clientY -rect.top) * cvs.height / rect.height\r\n      ];\r\n    },\r\n\r\n    emptyCanvas(w, h, val){\r\n      let cvs = this.cvs;\r\n      cvs.width = w;\r\n      cvs.height = h;\r\n      if(val == null)\r\n        this.canvasData = null;\r\n      else\r\n        this.refreshData(val);\r\n    },\r\n    refreshData(val){\r\n      this.canvasData = createCanvasData(val, this.cvs.width, this.cvs.height, this.blockX, this.blockY, this.brushSize);\r\n      this.setGeneral(this);\r\n      this.refresh();\r\n    },\r\n    paint(cleanFirst=0, mode=\"general\"){\r\n      if(cleanFirst == 1)\r\n        this.ctx.clearRect(0, 0, this.cvs.width, this.cvs.height);\r\n      else if(cleanFirst == 2)\r\n        this.cleanSelectArea();\r\n      this.canvasData.paint_all_data(mode, this.fill_rect);\r\n    },\r\n\r\n    fill_rect(px1, py, pxw, pyw, c, mode) {\r\n      let ctx = this.ctx;\r\n      ctx.fillStyle = c;\r\n      let brushScale = this.canvasData.getScale();\r\n      ctx.fillRect(px1, py, pxw + this.brushSize * brushScale[0], pyw + this.brushSize * brushScale[1]);\r\n      if(mode == \"select\"){\r\n        ctx.lineWidth = this.strokeSize;\r\n        ctx.strokeStyle = \"rgb(87,87,87)\";\r\n        ctx.strokeRect(px1, py, pxw + this.brushSize * brushScale[0], pyw + this.brushSize * brushScale[1]);\r\n      }\r\n      if(mode == \"activate\"){\r\n        ctx.fillStyle = \"rgba(0,0,0,0.8)\";\r\n        ctx.fillRect(px1, py, pxw + this.brushSize * brushScale[0], pyw + this.brushSize * brushScale[1]);\r\n      }\r\n    },\r\n\r\n    mouseWheel(e){\r\n      if(this.canvasData == null){\r\n        return;\r\n      }\r\n      let direction = e.deltaY > 0 ? 'down':'up';\r\n      //let dt = this.brushSize > 0 ? 0.2 / this.brushSize: 0;\r\n      if (direction=='up' && e.deltaY <= -5){\r\n        let pos = this.getMousePos(e);\r\n\r\n        this.canvasData.scaleView(0.9, pos)\r\n        this.paint_all_data(1, \"all\");\r\n        this.mouseMoveAction();\r\n\r\n      }else if(direction=='down' && e.deltaY >= 125){\r\n        let pos = this.getMousePos(e);\r\n        this.canvasData.scaleView(1.1, pos);\r\n        this.paint_all_data(1, \"all\");\r\n        this.mouseMoveAction();\r\n      }\r\n      e.preventDefault();\r\n    },\r\n    mouseDown(evt){\r\n      this.isDown = evt.button;\r\n      if(this.canvasData == null || this.isDown != 0)\r\n        return;\r\n      this.paint_all_data(2, \"highlight\");\r\n      this.mouseDownAction();\r\n      let pos = this.getMousePos(evt);\r\n      this.canvasData.setSelectedArea(pos, pos);\r\n      if(this.isGeneral)\r\n        this.canvasData.backupStateDataBorder();\r\n      evt.preventDefault();\r\n    },\r\n    mouseDownAction(){\r\n    },\r\n    mouseOut(evt){\r\n      this.mouseUp(evt);\r\n    },\r\n    mouseUp(evt){\r\n      if (this.isDown > -1) {\r\n        this.isDown = -1;\r\n      }\r\n      evt.preventDefault();\r\n    },\r\n    mouseMove(evt){\r\n      if(this.canvasData == null || this.isDown != 0)\r\n        return;\r\n      let newCenter = this.getMousePos(evt)\r\n      if (this.isGeneral) {\r\n        this.canvasData.moveView(newCenter);\r\n        this.paint_all_data(1, \"all\");\r\n        this.mouseMoveAction();\r\n      }else if (this.unlock){\r\n        this.unlock = false;\r\n        this.paint_all_data(2, \"highlight\");\r\n        this.canvasData.setSelectedArea(null, newCenter);\r\n        this.ctx.fillStyle = \"rgba(0,255,196,0.22)\";\r\n        let x, y, w, h;\r\n        [x, y, w, h] = this.canvasData.selectedArea();\r\n        if(w > 4 && h > 4){\r\n          this.ctx.fillRect(x + 2, y + 2, w - 2, h - 2);\r\n          this.paint_all_data(0, \"highlight\");\r\n        }\r\n        let c = this.canvasData.filter()\r\n        this.timbreSpaceAction(\"updateColor\", c);\r\n        this.unlock = true;\r\n      }\r\n      evt.preventDefault();\r\n    },\r\n    selectChangeTrk(_this, trk){\r\n      _this.canvasData.setSelectedTrk(trk);\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    mouseMoveAction(){\r\n\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.canvasAreaCSS{\r\n  position: relative;\r\n  //background-color: rgba(239, 238, 238, 0.99);\r\n  //box-shadow: 0 0 3px 3px #666;\r\n}\r\n</style>\r\n\r\n","import {copy, formatRect, swap} from \"@/js/ultilities\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nclass CanvasData{\r\n    constructor(val, canvasW, canvasH, blockX, blockY, brushSize){\r\n        this.brushSize = brushSize;\r\n        this.blockX = blockX;\r\n        this.blockY = blockY;\r\n        this.paintedData = val.data.data;\r\n        this.paintedColor =val.color;\r\n        this.border = val.data.border\r\n        this.canvasW = canvasW;\r\n        this.canvasH = canvasH;\r\n        this.initialize();\r\n    }\r\n    initialize(){\r\n        this.initColors();\r\n        this.initBorder();\r\n        this.initProps();\r\n        this.pushInStack();\r\n    }\r\n    initColors(){\r\n        let darkColors = [\"rgb(194,194,194)\", \"rgb(255,202,202)\",\r\n        \"rgb(172,212,255)\", \"rgb(252,243,154)\", \"rgb(158,255,152)\",\r\n        \"rgb(210,164,252)\", \"rgb(252,187,122)\"];\r\n        let lightColors = [\"rgb(121,121,121)\", \"rgb(255,0,0)\",\r\n        \"rgb(0,124,255)\", \"rgb(252,228,0)\", \"rgb(13,243,0)\",\r\n        \"rgb(130,0,248)\", \"rgb(255,132,0)\"];\r\n        let alphaColors = [\"rgba(75,75,75,0.63)\", \"rgba(150,0,0,0.74)\",\r\n        \"rgba(0,67,141,0.77)\", \"rgba(148,138,0,0.7)\", \"rgba(3,141,0,0.68)\",\r\n        \"rgba(70,0,140,0.74)\", \"rgba(140,70,0,0.68)\"];\r\n        this.lightColors = lightColors;\r\n        this.darkColors = darkColors;\r\n        this.alphaColors = alphaColors;\r\n    }\r\n    initBorder(){\r\n        this.selectedTrk = 1;\r\n        this.dataNum = this.paintedData.length;\r\n        this.viewDataBorder = copy(this.border);\r\n        this.stateDataBorder = copy(this.border);\r\n        this.clickCenter = [0, 0];\r\n        this.currentCenter = [this.canvasW, this.canvasH];\r\n    }\r\n    initProps(){\r\n        this.dataStack = [];\r\n        this.stackCur = 0;\r\n        this.xlimit = 63;\r\n        this.ylimit = 1;\r\n    }\r\n    updateColor(c){\r\n        this.paintedColor = c;\r\n    }\r\n    setSparseView(){\r\n        this.darkColors[0] = \"rgba(255,255,255,0)\";\r\n    }\r\n    setSelectedTrk(val){\r\n        this.selectedTrk = val;\r\n    }\r\n    hasNoData(){\r\n        return this.paintedData == null;\r\n    }\r\n    pos2data(x, y, state=false){\r\n      if(state){\r\n        x = x / this.canvasW * (this.stateDataBorder[2] - this.stateDataBorder[0]) + this.stateDataBorder[0];\r\n        y = y / this.canvasH * (this.stateDataBorder[3] - this.stateDataBorder[1]) + this.stateDataBorder[1];\r\n      }else{\r\n        x = x / this.canvasW * (this.viewDataBorder[2] - this.viewDataBorder[0]) + this.viewDataBorder[0];\r\n        y = y / this.canvasH * (this.viewDataBorder[3] - this.viewDataBorder[1]) + this.viewDataBorder[1];\r\n      }\r\n      return [x, y];\r\n    }\r\n    data2pos(x, y){\r\n      x = (x - this.viewDataBorder[0]) / (this.viewDataBorder[2] - this.viewDataBorder[0]) * this.canvasW;\r\n      y = (y - this.viewDataBorder[1]) / (this.viewDataBorder[3] - this.viewDataBorder[1]) * this.canvasH;\r\n      return [x, y];\r\n    }\r\n    formatData(p){\r\n      let x = p[0], y = p[1];\r\n      x = x * (this.border[2] - this.border[0]) / this.canvasW;\r\n      y = y * (this.border[3] - this.border[1]) / this.canvasH;\r\n      x = Math.round(x) / (this.border[2] - this.border[0]) * this.canvasW;\r\n      y = Math.round(y) / (this.border[3] - this.border[1]) * this.canvasH;\r\n      return [x, y];\r\n    }\r\n    formatViewBorderUnit(i, block=true){\r\n      let scale = (this.border[2 + i] - this.border[i]) / (this.viewDataBorder[2 + i] - this.viewDataBorder[i]);\r\n      if(scale < 1){\r\n        this.viewDataBorder[i] = this.border[i];\r\n        this.viewDataBorder[2 + i] = this.border[2 + i];\r\n      }\r\n      if (this.viewDataBorder[i] < this.border[i]){\r\n          if(block)\r\n            this.viewDataBorder[2 + i] += this.border[i] - this.viewDataBorder[i];\r\n        this.viewDataBorder[i] = this.border[i];\r\n      } else if (this.viewDataBorder[2 + i] > this.border[2 + i]){\r\n          if(block)\r\n            this.viewDataBorder[i] -= (this.viewDataBorder[2 + i] - this.border[2 + i]);\r\n        this.viewDataBorder[2 + i] = this.border[2 + i];\r\n      }\r\n    }\r\n    formatViewBorder(block=true){\r\n      this.formatViewBorderUnit(0, block);\r\n      this.formatViewBorderUnit(1, block);\r\n    }\r\n    selectedData(){\r\n      let x, y, w, h, x1, x2, y1, y2;\r\n      [x, y, w, h] = formatRect(this.clickCenter, this.currentCenter);\r\n      [x1, y1] = this.pos2data(x, y);\r\n      [x2, y2] = this.pos2data(x + w, y + h);\r\n      x1 = Math.round(x1);\r\n      x2 = Math.round(x2);\r\n      y1 = Math.round(y1);\r\n      y2 = Math.round(y2);\r\n      return [x1, y1, x2, y2];\r\n    }\r\n    selectedArea(){\r\n        let x1, x2, y1, y2;\r\n        [x1, y1, x2, y2] = this.selectedData();\r\n        [x1, y1] = this.data2pos(x1, y1);\r\n        [x2, y2] = this.data2pos(x2, y2);\r\n        return [x1, y1, x2 - x1, y2 - y1];\r\n    }\r\n    resetSelectedArea(){\r\n      this.clickCenter = [0, 0];\r\n      this.currentCenter = [this.canvasW, this.canvasH];\r\n    }\r\n    resetViewBorder(){\r\n      this.viewDataBorder = copy(this.border);\r\n    }\r\n    setSelectedArea(pos1, pos2){\r\n        if(pos1 != null)\r\n            this.clickCenter = pos1;\r\n        if(pos2 != null)\r\n            this.currentCenter = pos2;\r\n    }\r\n    paint_all_data(mode, fill_rect){\r\n      let x, y, w, h, ind, x1, y1, x2, y2;\r\n      if(mode == \"all\"){\r\n          x = 0;\r\n          y = 0;\r\n          w = this.canvasW;\r\n          h = this.canvasH;\r\n          mode = \"general\";\r\n      } else\r\n         [x, y, w, h] = this.selectedArea();\r\n      if(w == 0 || h == 0)\r\n        return;\r\n      [x1, y1] = this.pos2data(x, y);\r\n      [x2, y2] = this.pos2data(x + w, y + h);\r\n      ind = 0;\r\n      while(ind != - 1){\r\n        ind = this.paint_data_unit(ind, x1, y1, x2, y2, mode, fill_rect);\r\n      }\r\n    }\r\n    paint_data_unit(index, x1, y1, x2, y2, mode, fill_rect){\r\n      let data = this.paintedData;\r\n      let c = this.paintedColor[index];\r\n      let activate = c - 1 == this.selectedTrk;\r\n      c = activate ? this.lightColors[c - 1] : this.darkColors[c - 1];\r\n\r\n      let pre = index, next = data[index][2];\r\n      if(data[index][0] > x2 )\r\n        return next;\r\n      if(data[index][1]> y2)\r\n        return next;\r\n      if(data[index][1] < y1)\r\n        return next;\r\n\r\n      let color = this.paintedColor, skip = -1;\r\n      while(next > -1 && data[pre][1] == data[next][1] && data[pre][0] + 1 >= data[next][0]){\r\n        if(color[next] != color[index]) {\r\n          while (next > -1 && color[next] != color[index]) {\r\n              if(skip == -1)\r\n                  skip = next;\r\n              next = data[next][2];\r\n          }\r\n        }else{\r\n          pre = next\r\n          next = data[pre][2];\r\n        }\r\n      }\r\n      if(data[pre][0] < x1)\r\n        return skip > 0 ?skip : next;\r\n\r\n      if(activate)\r\n        mode = \"select\";\r\n\r\n      let dt = this.brushSize > 0 ? 0 : 1;\r\n      let pyw = this.brushSize > 0? this.brushSize : this.canvasH / (this.viewDataBorder[3] - this.viewDataBorder[1]);\r\n      if(mode == \"background\"){\r\n        c = this.darkColors[0];\r\n      }\r\n      let px1, px2, py, pxw;\r\n      [px1, py] = this.data2pos(data[index][0], data[index][1]);\r\n      [px2, py] = this.data2pos(data[pre][0] + dt, data[index][1]);\r\n      pxw = px2 - px1;\r\n      fill_rect(px1, py, pxw, pyw, c, mode);\r\n      return skip > 0 ?skip : next;\r\n    }\r\n\r\n    backupStateDataBorder(){\r\n        this.stateDataBorder = copy(this.viewDataBorder);\r\n    }\r\n    getYRange(bound, sign){\r\n        return [bound + sign * this.border[3], bound - sign * this.border[1]];\r\n    }\r\n    getBarPos(sec){\r\n        let pos = this.data2pos(sec, 0);\r\n        if(this.viewDataBorder[2] < this.border[2] && sec > (this.viewDataBorder[0] + this.viewDataBorder[2]) / 2 && sec <=this.viewDataBorder[2]) {\r\n            let center = this.data2pos((this.viewDataBorder[0] + this.viewDataBorder[2]) / 2, 0);\r\n            this.setSelectedArea(pos, pos);\r\n            this.backupStateDataBorder();\r\n            this.moveView(center);\r\n        }\r\n        return this.data2pos(sec, 0)[0];\r\n    }\r\n    getXViewBorder(){\r\n        return [Math.floor(this.viewDataBorder[0] / 62.5), this.viewDataBorder[1],\r\n            Math.floor(this.viewDataBorder[2] / 62.5), this.viewDataBorder[3]];\r\n    }\r\n    getScale(){\r\n      return [(this.border[2] - this.border[0]) / (this.viewDataBorder[2] - this.viewDataBorder[0]),\r\n        (this.border[3] - this.border[1]) / (this.viewDataBorder[3] - this.viewDataBorder[1])]\r\n    }\r\n    moveView(pos, dt=1){\r\n        let xdt = 1, ydt = 1;\r\n        this.currentCenter = pos;\r\n        if(this.currentCenter[0] < this.clickCenter[0])\r\n            xdt = -1;\r\n        if(this.currentCenter[1] < this.clickCenter[1])\r\n            ydt = -1;\r\n        let [x1, y1, x2, y2] = this.selectedData();\r\n        let xdis = x2 - x1, ydis = y2 - y1;\r\n        this.viewDataBorder[0] = this.stateDataBorder[0] - xdis * xdt;\r\n        this.viewDataBorder[1] = this.stateDataBorder[1] - ydis * ydt;\r\n        this.viewDataBorder[2] = this.stateDataBorder[2] - xdis * xdt;\r\n        this.viewDataBorder[3] = this.stateDataBorder[3] - ydis * ydt;\r\n        this.formatViewBorder();\r\n    }\r\n\r\n    scaleView(scale, pos){\r\n      if (scale == 1){\r\n        return;\r\n      }\r\n      if (scale > 1){\r\n          if(this.viewDataBorder[0] == this.border[0] && this.viewDataBorder[1] == this.border[1]\r\n            && this.viewDataBorder[2] == this.border[2] && this.viewDataBorder[3] == this.border[3])\r\n            return;\r\n      }\r\n      if (scale < 1){\r\n          if(this.viewDataBorder[2] - this.viewDataBorder[0] < 1)\r\n              return;\r\n          if(this.viewDataBorder[2] - this.viewDataBorder[0] <= this.xlimit || this.viewDataBorder[3] - this.viewDataBorder[1] <= this.ylimit)\r\n              return;\r\n      }\r\n      let x, y, w, h, offsetX, offsetY;\r\n      //[x, y] = this.pos2data(pos[0], pos[1], false);\r\n      w = this.viewDataBorder[2] - this.viewDataBorder[0];\r\n      h = this.viewDataBorder[3] - this.viewDataBorder[1];\r\n      //offsetX = (x - this.viewDataBorder[0]) * scale;\r\n      //offsetY = (y - this.viewDataBorder[1]) * scale;\r\n      //w = w * scale;\r\n      //h = h * scale;\r\n      [x, y] = this.pos2data(pos[0] - pos[0] * scale, pos[1] - pos[1] * scale)\r\n      if(!this.blockX){\r\n          this.viewDataBorder[0] = x;\r\n          this.viewDataBorder[2] = this.viewDataBorder[0] + w * scale;\r\n      }\r\n      if(!this.blockY){\r\n          this.viewDataBorder[1] = y;\r\n          this.viewDataBorder[3] = this.viewDataBorder[1] + h * scale;\r\n      }\r\n      this.formatViewBorder(false);\r\n    }\r\n\r\n    smallView(){\r\n        let x1, y1, x2, y2;\r\n        [x1, y1, x2, y2] = this.selectedData();\r\n        return [x1 + 2, y1 + 2, x2 - 2, y2 - 2]\r\n    }\r\n    pushInStack(cover=false, load=null){\r\n     if(cover){\r\n       this.dataStack[this.stackCur - 1] = [copy(this.paintedData), copy(this.paintedColor)];\r\n            return;\r\n       }\r\n     let val, c;\r\n     if(load != null){\r\n         let data = copy(this.dataStack[load]);\r\n         val = data[0];\r\n         c = data[1];\r\n     }else{\r\n         val = copy(this.paintedData);\r\n         c = copy(this.paintedColor);\r\n     }\r\n      if(this.stackCur == this.dataStack.length)\r\n        this.dataStack.push([val, c]);\r\n      else\r\n        this.dataStack[this.stackCur] = [val, c];\r\n      if(this.dataStack.length > 30)\r\n        this.dataStack = this.dataStack.slice(1, this.dataStack.length - 1);\r\n      else\r\n          this.stackCur ++;\r\n      if(this.stackCur != this.dataStack.length)\r\n          this.dataStack = this.dataStack.slice(0, this.stackCur);\r\n    }\r\n    replace(c=0, reverse=false, revise=false){\r\n        this.pushInStack(true);\r\n      let ind = 0, data = this.paintedData, color = this.paintedColor, x1, x2, y1, y2, a, b;\r\n      [x1, y1, x2, y2] = this.selectedData();\r\n      while(ind > -1){\r\n        [a, b] = [data[ind][0], data[ind][1]];\r\n        if(a >= x1 && b >= y1 && a < x2 && b < y2){\r\n          if(!reverse){\r\n              color[ind] = c;\r\n              if(revise)\r\n                data[ind][3] = 1;\r\n          }\r\n        }else if (reverse){\r\n            color[ind] = c;\r\n        }\r\n        ind = data[ind][2];\r\n      }\r\n      this.pushInStack();\r\n    }\r\n    crop(resize=true, reverse=true, c=1, revise=false){\r\n        let x1, y1, x2, y2;\r\n        [x1, y1, x2, y2] = this.selectedData();\r\n        if(x2 - x1 < 0 || y2 - y1 < 0){\r\n            ElMessage('Please select a larger clip.')\r\n            return;\r\n        }\r\n        if(this.blockX){\r\n            x1 = this.border[0];\r\n            x2 = this.border[2];\r\n        }\r\n        if(this.blockY){\r\n            y1 = this.border[1];\r\n            y2 = this.border[3];\r\n        }\r\n        this.replace(c, reverse, revise);\r\n        if(resize){\r\n            this.viewDataBorder = [x1, y1, x2, y2];\r\n            this.resetSelectedArea();\r\n        }\r\n\r\n    }\r\n    filter(){\r\n        this.crop(false, true);\r\n        let c = this.paintedColor;\r\n        this.undo();\r\n        return c;\r\n    }\r\n    revise(){\r\n        this.crop(false, false, this.selectedTrk + 1, true);\r\n    }\r\n    erase(){\r\n        this.crop(false, false, 1, true);\r\n    }\r\n    reset(){\r\n        [this.paintedData, this.paintedColor] = this.dataStack[0];\r\n        this.stackCur = 1;\r\n        this.resetSelectedArea();\r\n        this.resetViewBorder();\r\n    }\r\n    undo(){\r\n        if(this.stackCur <= 1)\r\n            return;\r\n        [this.paintedData, this.paintedColor] = this.dataStack[this.stackCur - 2];\r\n        this.stackCur --;\r\n    }\r\n    redo(){\r\n        if(this.stackCur === this.dataStack.length)\r\n            return;\r\n        [this.paintedData, this.paintedColor] = this.dataStack[this.stackCur];\r\n        this.stackCur ++;\r\n    }\r\n}\r\nfunction createCanvasData(paintedData, paintedColor, canvasW, canvasH, blockX, blockY, brushSize){\r\n    let canvasData = new CanvasData(paintedData, paintedColor, canvasW, canvasH, blockX, blockY, brushSize);\r\n    return canvasData;\r\n}\r\nexport {createCanvasData}\r\n","import { render } from \"./BasicCanvas.vue?vue&type=template&id=b2928ece\"\nimport script from \"./BasicCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./BasicCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./BasicCanvas.vue?vue&type=style&index=0&id=b2928ece&lang=scss\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport {createTimbreDB} from \"../../js/TimbreDB\"\r\nimport BasicCanvas from \"@/components/canvas/BasicCanvas\";\r\nimport {formatTime} from \"@/js/ultilities\";\r\n\r\nexport default {\r\n  extends: BasicCanvas,\r\n  name: \"TimbreSpaceCanvas\",\r\n  methods:{\r\n    refresh(){\r\n      this.canvasData.setSparseView();\r\n    },\r\n    initSpace(pca, center){\r\n      this.timbreDB = createTimbreDB(pca, center);\r\n    },\r\n    paint_all_data(cleanFirst=0, mode=\"general\"){\r\n\r\n      this.paint(cleanFirst, mode);\r\n      this.paintTimbreDB();\r\n      this.paintCenter();\r\n\r\n    },\r\n    changeTrk(_this, trk){\r\n      _this.canvasData.setSelectedTrk(trk);\r\n    },\r\n    updateColor(_this, color){\r\n      _this.canvasData.updateColor(color);\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    paintCenter(){\r\n      let centers = this.timbreDB.getCenters();\r\n      for(let i = 0; i < centers.data.length; ++i){\r\n        let x, y, tag;\r\n        [x, y] = centers.data[i];\r\n        tag = centers.tag[i];\r\n        this.drawEmbeddingCenter(x, y, tag, i);\r\n      }\r\n    },\r\n    paintTimbreDB(){\r\n      let embeddings = this.timbreDB.getEmbeddings();\r\n      for(let i = 0; i < embeddings.data.length; ++i){\r\n        let x, y, tag;\r\n        [x, y] = embeddings.data[i];\r\n        tag = embeddings.tag[i];\r\n        this.drawEmbeddingCenter(x, y, tag, -1);\r\n      }\r\n    },\r\n    loadTimbreDB(_this, val){\r\n        _this.timbreDB.load_db(val);\r\n        _this.paint_all_data(1, \"all\");\r\n    },\r\n    drawEmbeddingCenter(x, y, t, c){\r\n      let w = c>=0?4:0.1;\r\n      let ctx = this.ctx;\r\n      ctx.beginPath();\r\n      ctx.fillStyle = this.canvasData.alphaColors[c + 1];\r\n      let pos = this.canvasData.data2pos(x * 1000, y* 1000);\r\n      ctx.arc(pos[0], pos[1],this.brushSize * w, 0,2*Math.PI);\r\n      ctx.fill();\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = \"black\"\r\n      ctx.arc(pos[0], pos[1],this.brushSize * w, 0,2*Math.PI);\r\n      ctx.stroke();\r\n      ctx.fillStyle = \"black\";\r\n      ctx.font = \"20px serif\";\r\n      ctx.fillText(t, pos[0], pos[1])\r\n    },\r\n    tagTrks(_this, val){\r\n      _this.timbreDB.load_db(val);\r\n      _this.timbreDB.tag();\r\n\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./TimbreSpaceCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./TimbreSpaceCanvas.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport BasicCanvas from \"@/components/canvas/BasicCanvas\";\r\n\r\nexport default {\r\n  extends: BasicCanvas,\r\n  name: \"PianoRollCanvas\",\r\n  mounted() {\r\n\r\n  },\r\n  methods:{\r\n    mouseDownAction(){\r\n      this.updateTimbreSpace();\r\n    },\r\n    mouseMoveAction(){\r\n      this.updateSecRange();\r\n    },\r\n    refresh(){\r\n      let pitchRange = this.canvasData.getYRange(129, -1);\r\n      this.timbrePanelAction(\"setPitchRange\", pitchRange);\r\n      this.updateSecRange();\r\n    },\r\n    paint_all_data(cleanFirst=0, mode=\"general\"){\r\n      this.paint(cleanFirst, mode);\r\n    },\r\n    pianoPanelAction(func, arg){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"pianoPanelAction\", val);\r\n    },\r\n    timbrePanelAction(func, arg){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbrePanelAction\", val);\r\n    },\r\n    timbreSpaceAction(func, arg){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbreSpaceAction\", val);\r\n    },\r\n    updateTimbreSpace(){\r\n      this.timbreSpaceAction(\"updateColor\", this.canvasData.paintedColor);\r\n    },\r\n    setJsonData(_this){\r\n      let val = {\"data\" : _this.canvasData.paintedData, \"color\": _this.canvasData.paintedColor};\r\n      _this.pianoPanelAction(\"setJsonData\", val);\r\n    },\r\n    crop(_this){\r\n      _this.canvasData.crop();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n      _this.updateSecRange();\r\n    },\r\n    reset(_this){\r\n      _this.canvasData.reset();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n      _this.updateSecRange();\r\n    },\r\n    fill(_this){\r\n      _this.replace(_this.selectTrk + 1, true);\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    revise(_this){\r\n      _this.canvasData.revise();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    erase(_this){\r\n      _this.canvasData.erase();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    updatePlayingBar(_this, sec){\r\n      if(_this.canvasData == null)\r\n        return;\r\n      let pos = _this.canvasData.getBarPos(Math.round(sec * 62.5));\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.ctx.fillStyle = \"rgba(0,255,196,0.22)\";\r\n      _this.ctx.fillRect(pos, 0, 5, _this.cvs.height);\r\n      _this.updateSecRange();\r\n    },\r\n\r\n    updateSecRange(){\r\n      let args = this.canvasData.getXViewBorder();\r\n      this.pianoPanelAction(\"updateSecRange\", args);\r\n    },\r\n\r\n    undo(_this){\r\n      _this.canvasData.undo();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    redo(_this){\r\n      _this.canvasData.redo();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    setPaint(_this, val){\r\n      _this.isGeneral = false;\r\n      _this.isCrop = false;\r\n      _this.isPaint = true;\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    setCrop(_this){\r\n      _this.isGeneral = false;\r\n      _this.isCrop = true;\r\n      _this.isPaint = false;\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./PianoRollCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./PianoRollCanvas.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./DoodlePanel.vue?vue&type=template&id=427c557d\"\nimport script from \"./DoodlePanel.vue?vue&type=script&lang=js\"\nexport * from \"./DoodlePanel.vue?vue&type=script&lang=js\"\n\nimport \"./DoodlePanel.vue?vue&type=style&index=0&id=427c557d&lang=scss\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=6efcc27d\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6efcc27d&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import ElementPlus from 'element-plus'\nimport '../element-variables.scss'\n\nexport default (app) => {\n  app.use(ElementPlus)\n}\n","//import './plugins/axios'\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport installElementPlus from './plugins/element'\n//import installAxios from './plugins/axios'\n\nconst app = createApp(App)\ninstallElementPlus(app)\n//installAxios(app)\n\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksantouguai_demo_v03\"] = self[\"webpackChunksantouguai_demo_v03\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2018); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_DoodlePanel","class","ref","_createElementVNode","_createVNode","_component_el_affix","offset","_component_piano_canvas","_component_time_ticker_canvas","_component_piano_roll_canvas","canvasName","W","$data","H","blockY","onPianoPanelAction","$options","onTimbrePanelAction","onTimbreSpaceAction","_component_piano_panel","sources","onPianoRollAction","onUpdateSources","onUpdateCanvas","onRefreshCanvas","onChangeTrk","_component_timbre_space_canvas","brushSize","strokeSize","_component_timbre_panel","_createElementBlock","_hoisted_2","_component_el_button","type","size","disabled","onClick","hidden","onChange","plain","length","_component_el_input","$event","placeholder","prepend","_component_el_select","style","_Fragment","_renderList","$props","item","_component_el_option","key","value","label","_hoisted_13","_component_el_slider","range","max","min","name","components","props","Object","data","analyzed","instr","pitchRange","pitchMin","pitchMax","hideDB","timbreDB","selectTrk","methods","callFunc","val","func","arg","this","setPitchRange","_this","setAnalyzed","pianoPanelAction","$emit","timbreSpaceAction","onChangePitchRange","evt","onSelectChangeTrk","onClickLoad","$refs","uploadDB","click","onClickLoadDB","file","target","files","reader","FileReader","onload","e","json","JSON","parse","result","readAsText","console","log","onClickCancel","onClickTag","__exports__","_hoisted_3","_hoisted_4","_component_el_radio_group","_component_el_radio","_hoisted_12","_component_el_checkbox","_component_audio_panel","onSetAnalyze","onSetAudioData","onUpdatePlayingBar","_component_transfer_data_dialog","onSetAnalyzed","onSetRepData","onSetSepData","_hoisted_18","_hoisted_21","_hoisted_24","_component_save_change_dialog","_component_el_upload","action","limit","_hoisted_6","id","controls","src","onTimeupdate","current","total","sepURL","mode","enableAudioSubmit","audioSrc","hasRawInput","hasSeparate","minDur","maxDur","currentDur","totalDur","processStr","getFormatProcess","watch","currentCur","mounted","audio","document","getElementById","padNum","x","n","Array","join","slice","formatTime","s","m","Math","floor","a","b","updateTime","currentTime","onChangeFile","raw","isAudio","valiSize","$message","error","urlReader","readAsDataURL","audioData","onloadend","oFRevent","mixtureURL","setAnalyze","uploadRef","clearFiles","onClickUpload","submit","onClickPlay","play","onChangeMode","res","changeAudioSrc","pause","onloadedmetadata","setSepData","pos","setSelectTrk","handleExceed","handleStart","href","_component_el_dialog","title","footer","_component_el_form","_component_el_timeline","_component_el_timeline_item","timestamp","loading","allSources","disAnalyze","sourcesNum","dialogFormVisible","selectedFile","jsonData","setAudioData","onClickDownloadData","audioType","blob","Blob","zip","JSZip","dataPath","metaData","stringify","generateAsync","compression","compressionOptions","level","then","content","saveAs","isVali","onClickConfirm","arReader","readAsArrayBuffer","audioBlob","base","async","setRepData","i","unit","URL","createObjectURL","onSelectChangeSourcesNum","copy","formatRect","p1","p2","y","w","h","encode","out","charCodeAt","Uint8Array","float","sec","toFixed","padStart","setJsonData","mix","showDialog","str","json_blob","json_dataPath","audio_path","transferUploadRef","SaveChangeDialog","TransferDataDialog","AudioPanel","enableZoom","isSelect","resUrl","formLabelWidth","isDrag","isCrop","isPaint","minSec","maxSec","transferDataDialog","audioPanel","reset","saveChangeDialog","push","pca","center","pianoRollAction","updatePlayingBar","onSetDrag","onSetPaint","onSetCrop","onChangeZoom","updateSecRange","onClickCrop","onClickRevise","onClickErase","onClickFill","onClickUndo","onClickRedo","onClickReset","onClickRefine","cvs","canvas","ctx","getContext","setSize","width","height","formatSec","minSc","maxSc","dt","refresh","scale","MB","clearRect","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","fillText","padH","getWhiteKeys","register","minPitch","maxPitch","onset","keys_num","strokeRect","TimbreDB","constructor","mean","cps","centerEmb","embeddings","centerData","initialize","pcaTransform","tags","centerTags","tag","ind","minVal","j","k","load_db","embedding","getCenters","getEmbeddings","createTimbreDB","CanvasData","canvasW","canvasH","blockX","paintedData","paintedColor","color","border","initColors","initBorder","initProps","pushInStack","darkColors","lightColors","alphaColors","selectedTrk","dataNum","viewDataBorder","stateDataBorder","clickCenter","currentCenter","dataStack","stackCur","xlimit","ylimit","updateColor","c","setSparseView","setSelectedTrk","hasNoData","pos2data","state","data2pos","formatData","p","round","formatViewBorderUnit","block","formatViewBorder","selectedData","x1","x2","y1","y2","selectedArea","resetSelectedArea","resetViewBorder","setSelectedArea","pos1","pos2","paint_all_data","fill_rect","paint_data_unit","index","activate","pre","next","skip","px1","px2","py","pxw","pyw","backupStateDataBorder","getYRange","bound","sign","getBarPos","moveView","getXViewBorder","getScale","xdt","ydt","xdis","ydis","scaleView","smallView","cover","load","replace","reverse","revise","crop","resize","ElMessage","filter","undo","erase","redo","createCanvasData","canvasData","Number","default","Boolean","isGeneral","isDown","unlock","brushScale","emptyCanvas","onmousedown","mouseDown","onmouseup","mouseUp","onmousemove","mouseMove","onMouseout","mouseOut","onmousewheel","mouseWheel","setGeneral","setZoom","cleanSelectArea","getMousePos","rect","getBoundingClientRect","clientX","left","clientY","top","refreshData","paint","cleanFirst","fillStyle","fillRect","direction","deltaY","mouseMoveAction","preventDefault","button","mouseDownAction","newCenter","selectChangeTrk","trk","extends","BasicCanvas","initSpace","paintTimbreDB","paintCenter","changeTrk","centers","drawEmbeddingCenter","loadTimbreDB","t","arc","PI","fill","font","tagTrks","updateTimbreSpace","timbrePanelAction","args","setPaint","setCrop","PianoRollCanvas","TimbreSpaceCanvas","PianoCanvas","TimeTickerCanvas","TimbrePanel","PianoPanel","canvasLCssW","canvasLCssH","canvasRCssW","canvasRCssH","canvasLFix","canvasRFix","clientWidth","clientHeight","testCanvas","timbrePalette","timbreTicker","canvasTimeTickerTCss","piano","canvasPianoLCss","refreshCanvas","pianoroll","pianoRoll","timbre","updateCanvas","pianoPanel","timbrePanel","updateSources","DoodlePanel","render","app","use","ElementPlus","createApp","App","installElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}