{"version":3,"file":"js/app.d735da34.js","mappings":"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","sources":["webpack://santouguai_demo_v03/./src/App.vue","webpack://santouguai_demo_v03/./src/components/panel/DoodlePanel.vue","webpack://santouguai_demo_v03/./src/components/panel/TimbrePanel.vue","webpack://santouguai_demo_v03/./src/components/panel/TimbrePanel.vue?f497","webpack://santouguai_demo_v03/./src/components/panel/PianoPanel.vue","webpack://santouguai_demo_v03/./src/components/panel/AudioPanel.vue","webpack://santouguai_demo_v03/./src/components/panel/AudioPanel.vue?5e48","webpack://santouguai_demo_v03/./src/components/dialog/TransferDataDialog.vue","webpack://santouguai_demo_v03/./src/components/dialog/TransferDataDialog.vue?6c59","webpack://santouguai_demo_v03/./src/components/dialog/SaveChangeDialog.vue","webpack://santouguai_demo_v03/./src/js/ultilities.js","webpack://santouguai_demo_v03/./src/components/dialog/SaveChangeDialog.vue?8e78","webpack://santouguai_demo_v03/./src/components/panel/PianoPanel.vue?57cd","webpack://santouguai_demo_v03/./src/components/canvas/TimeTickerCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/TimeTickerCanvas.vue?f1bc","webpack://santouguai_demo_v03/./src/components/canvas/PianoCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/PianoCanvas.vue?83f0","webpack://santouguai_demo_v03/./src/js/TimbreDB.js","webpack://santouguai_demo_v03/./src/components/canvas/BasicCanvas.vue","webpack://santouguai_demo_v03/./src/js/CanvasData.js","webpack://santouguai_demo_v03/./src/components/canvas/BasicCanvas.vue?b5e7","webpack://santouguai_demo_v03/./src/components/canvas/TimbreSpaceCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/TimbreSpaceCanvas.vue?8f0d","webpack://santouguai_demo_v03/./src/components/canvas/PianoRollCanvas.vue","webpack://santouguai_demo_v03/./src/components/canvas/PianoRollCanvas.vue?d73d","webpack://santouguai_demo_v03/./src/components/panel/DoodlePanel.vue?db58","webpack://santouguai_demo_v03/./src/App.vue?7ccd","webpack://santouguai_demo_v03/./src/plugins/element.js","webpack://santouguai_demo_v03/./src/main.js","webpack://santouguai_demo_v03/webpack/bootstrap","webpack://santouguai_demo_v03/webpack/runtime/chunk loaded","webpack://santouguai_demo_v03/webpack/runtime/compat get default export","webpack://santouguai_demo_v03/webpack/runtime/define property getters","webpack://santouguai_demo_v03/webpack/runtime/global","webpack://santouguai_demo_v03/webpack/runtime/hasOwnProperty shorthand","webpack://santouguai_demo_v03/webpack/runtime/node module decorator","webpack://santouguai_demo_v03/webpack/runtime/jsonp chunk loading","webpack://santouguai_demo_v03/webpack/startup"],"sourcesContent":["<template>\n  <DoodlePanel ></DoodlePanel>\n</template>\n\n<script>\nimport DoodlePanel from './components/panel/DoodlePanel';\nimport axios from \"axios\";\n\nexport default {\n  name: 'App',\n  components: {\n    DoodlePanel\n  },\n\n}\n</script>\n\n<style>\n#app {\n\n}\n</style>\n","<template>\r\n    <div class=\"canvasLCss\">\r\n      <el-affix :offset=\"10\">\r\n        <div class=\"canvasFixCss\" >\r\n          <div class=\"canvasPianoLCss\" ref=\"canvasPianoLCss\">\r\n            <piano-canvas ref=\"piano\"></piano-canvas>\r\n          </div>\r\n          <div class=\"canvasPianoRCss\">\r\n            <div class=\"canvasTimeTickerTCss\" ref=\"canvasTimeTickerTCss\">\r\n              <time-ticker-canvas ref=\"timbreTicker\"></time-ticker-canvas>\r\n            </div>\r\n            <div class=\"canvasTimeTickerBCss\" ref=\"canvasLFix\">\r\n              <piano-roll-canvas ref=\"testCanvas\" canvasName=\"timbreSpaceCVS\"\r\n                :W=\"canvasLCssW\" :H=\"canvasLCssH\" :blockY=\"true\"\r\n                       @pianoPanelAction=\"pianoPanelAction\"\r\n                       @timbrePanelAction=\"timbrePanelAction\"\r\n                       @timbreSpaceAction=\"timbreSpaceAction\"></piano-roll-canvas>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </el-affix>\r\n      <div class=\"lControllerCss\">\r\n        <piano-panel :sources=\"sources\" ref=\"pianoPanel\"\r\n                     @pianoRollAction=\"pianoRollAction\"\r\n                     @timbrePanelAction=\"timbrePanelAction\"\r\n                     @timbreSpaceAction=\"timbreSpaceAction\"\r\n                     @updateCanvas=\"updateCanvas\"\r\n                     @refreshCanvas=\"refreshCanvas\"></piano-panel>\r\n      </div>\r\n    </div>\r\n    <div class=\"canvasRCss\">\r\n      <el-affix :offset=\"10\">\r\n        <div class=\"canvasFixCss\" ref=\"canvasRFix\">\r\n          <timbre-space-canvas ref=\"timbrePalette\" :brushSize=\"2.4\" :strokeSize=\"0.2\" canvasName=\"timbreSpaceCVS\"\r\n               :W=\"canvasRCssW\" :H=\"canvasRCssH\"></timbre-space-canvas>\r\n        </div>\r\n      </el-affix>\r\n      <div class=\"rControllerCss\">\r\n        <timbre-panel :sources=\"sources\" ref=\"timbrePanel\" @pianoRollAction=\"pianoRollAction\"\r\n                      @timbreSpaceAction=\"timbreSpaceAction\"></timbre-panel>\r\n      </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport TimbrePanel from '@/components/panel/TimbrePanel';\r\nimport PianoPanel from '@/components/panel/PianoPanel';\r\n\r\nimport axios from \"axios\";\r\nimport TimeTickerCanvas from \"@/components/canvas/TimeTickerCanvas\";\r\nimport PianoCanvas from \"@/components/canvas/PianoCanvas\";\r\nimport TimbreSpaceCanvas from \"@/components/canvas/TimbreSpaceCanvas\";\r\nimport PianoRollCanvas from \"@/components/canvas/PianoRollCanvas\";\r\n\r\nexport default {\r\n  name: \"DoodlePanel\",\r\n\r\n  components: {\r\n    PianoRollCanvas,\r\n    TimbreSpaceCanvas,\r\n    PianoCanvas,\r\n    TimeTickerCanvas,\r\n    TimbrePanel,\r\n    PianoPanel,\r\n  },\r\n  data(){\r\n    return {\r\n      canvasLCssW : 100,\r\n      canvasLCssH : 100,\r\n      canvasRCssW : 100,\r\n      canvasRCssH : 100,\r\n      sources : [{\"id\" : 1, \"label\" : \"Undefined\"}],\r\n      //sources : [{\"id\" : 2, \"label\" : \"Trumpet\"}, {\"id\" : 0, \"label\" : \"Trombone\"},\r\n      //              {\"id\" : 1, \"label\" : \"Horn\"}],\r\n    }\r\n  },\r\n  mounted() {\r\n    let canvasLFix = this.$refs.canvasLFix;\r\n    let canvasRFix = this.$refs.canvasRFix;\r\n    this.canvasLCssW = canvasLFix.clientWidth;\r\n    this.canvasLCssH = canvasLFix.clientHeight;\r\n    this.canvasRCssW = canvasRFix.clientWidth;\r\n    this.canvasRCssH = canvasRFix.clientHeight;\r\n    this.$refs.testCanvas.emptyCanvas(this.canvasLCssW, this.canvasLCssH, null);\r\n    this.$refs.timbrePalette.emptyCanvas(this.canvasRCssW, this.canvasRCssH, null);\r\n    this.$refs.timbreTicker.setSize(this.$refs.canvasTimeTickerTCss.clientWidth, this.$refs.canvasTimeTickerTCss.clientHeight);\r\n    this.$refs.piano.setSize(this.$refs.canvasPianoLCss.clientWidth,\r\n        this.$refs.canvasPianoLCss.clientHeight,\r\n        this.$refs.canvasTimeTickerTCss.clientHeight);\r\n    //this.pianoRollAction({\"func\": \"emptyCanvas\", \"arg\" : null});\r\n    //this.timbreSpaceAction({\"func\":\"emptyCanvas\", \"arg\": null});\r\n    //this.load_data();\r\n  },\r\n  methods:{\r\n    refreshCanvas(val){\r\n      if(val == null){\r\n        this.$refs.testCanvas.emptyCanvas(this.canvasLCssW, this.canvasLCssH, null);\r\n        this.$refs.timbrePalette.emptyCanvas(this.canvasRCssW, this.canvasRCssH, null);\r\n      }else{\r\n        let pianoroll = {\"data\" : val.pianoRoll, \"color\" : val.color};\r\n        let timbre = {\"data\" : val.timbre, \"color\" : val.color};\r\n        this.$refs.timbrePalette.initSpace(val.pca, val.center);\r\n        this.$refs.testCanvas.emptyCanvas(this.canvasLCssW, this.canvasLCssH, pianoroll);\r\n        this.$refs.timbrePalette.emptyCanvas(this.canvasRCssW, this.canvasRCssH, timbre);\r\n\r\n      }\r\n\r\n    },\r\n    updateCanvas(val){\r\n      this.$refs.timbreTicker.refresh(val[0], val[2]);\r\n      this.$refs.piano.refresh(val[1], val[3]);\r\n    },\r\n\r\n    pianoPanelAction(val) {\r\n      this.$refs.pianoPanel.callFunc(val);\r\n    },\r\n    pianoRollAction(val) {\r\n      this.$refs.testCanvas.callFunc(val);\r\n    },\r\n    timbrePanelAction(val) {\r\n      this.$refs.timbrePanel.callFunc(val);\r\n    },\r\n    timbreSpaceAction(val) {\r\n      this.$refs.timbrePalette.callFunc(val);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nhtml, body{\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #84a2d3;\r\n  //  background-color: #84a2d3;\r\n}\r\n.canvasLCss{\r\n  float: left;\r\n  position: relative;\r\n  width: 60%;\r\n  height: 420px;\r\n  margin-left: 5px;\r\n  margin-top: 5px;\r\n  background-color: rgba(232, 232, 232, 0.99);\r\n  box-shadow: 0 0 3px 3px #666;\r\n\r\n}\r\n.canvasRCss{\r\n  float: left;\r\n  position: relative;\r\n  width: 30%;\r\n  height: 420px;\r\n  margin-left: 30px;\r\n  margin-top: 5px;\r\n  background-color: rgba(232, 232, 232, 0.99);\r\n  box-shadow: 0 0 3px 3px #666;\r\n\r\n}\r\n.canvasFixCss{\r\n  width: 100%;\r\n  height: 415px;\r\n}\r\n.canvasTimeTickerTCss{\r\n  width: 100%;\r\n  height: 15px;\r\n}\r\n.canvasTimeTickerBCss{\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n.canvasPianoLCss{\r\n  width: 5%;\r\n  height: 415px;\r\n  float: left;\r\n}\r\n.canvasPianoRCss{\r\n  width: 95%;\r\n  height: 415px;\r\n  float: left;\r\n}\r\n.lControllerCss{\r\n  background-color: #b4ccef;\r\n  width: 100%;\r\n  height: 250px;\r\n  margin-top: 10px;\r\n\r\n}\r\n.rControllerCss{\r\n background-color: #b4ccef;\r\n  width: 100%;\r\n  height: 250px;\r\n  margin-top: 10px;\r\n\r\n}\r\n.controller{\r\n  float: left;\r\n  position: relative;\r\n  width: 620px;\r\n  height: 100%;\r\n  margin-left: 10px;\r\n  box-shadow: -7px 0px 5px -5px #333;\r\n  background-color: white;\r\n}\r\n\r\n\r\n\r\n</style>","<template>\r\n<div class=\"timbrePanelCss\">\r\n    <div class=\"narrowBandCss\"><span>Timbre database: </span></div>\r\n    <div class=\"hintCss\">\r\n      <div><b>Load</b> timbre embeddings from a database</div>\r\n      <div><b>Tag</b> sources using timbre embeddings in the database</div>\r\n      <div><b>Select</b> timbre embeddings to re-separate</div>\r\n      <div><b>Save</b> current timbre embeddings</div>\r\n    </div>\r\n    <div class=\"largeBandCss\">\r\n      <el-button type=\"primary\"  size=\"small\" :disabled=\"!analyzed\">Load</el-button>\r\n      <el-button type=\"primary\" plain size=\"small\" :disabled=\"!analyzed\">Tag</el-button>\r\n      <el-button type=\"warning\"  size=\"small\" :disabled=\"!analyzed\">Select</el-button>\r\n\r\n  </div>\r\n  <div class=\"largeBandCss\">\r\n    <div class=\"largeWCss\">\r\n      <el-input :disabled=\"!analyzed\"\r\n        v-model=\"instr\"\r\n        placeholder=\"Instrument name\"\r\n        class=\"input-with-select\">\r\n        <template #prepend>\r\n        <el-select v-model=\"selectTrk\" @change=\"onSelectChangeTrk\" placeholder=\"Select\" style=\"width: 110px\" :disabled=\"!analyzed\">\r\n          <el-option  v-for=\"item in allSources\" :key=\"item.id\" :label=\"item.label\" :value=\"item.id\" />\r\n        </el-select>\r\n      </template>\r\n      </el-input>\r\n    </div>\r\n    <div class=\"narrowCss\"><el-button type=\"danger\" size=\"small\" :disabled=\"!analyzed\">Save</el-button></div>\r\n  </div>\r\n  <div class=\"largeBandCss\">\r\n    <div class=\"narrowWCss\"><span>Pitch range: </span></div>\r\n    <div class=\"midWCss\">\r\n      <el-slider v-model=\"pitchRange\" range :max=\"pitchMax\" :min=\"pitchMin\" size=\"small\" :disabled=\"!analyzed\"\r\n                  class=\"slider\" @change=\"onChangePitchRange\"/>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"TimbrePanel\",\r\n  components: {\r\n  },\r\n  props :{\r\n    sources : Object,\r\n  },\r\n  data(){\r\n    return{\r\n      analyzed : false,\r\n      instr : \"undefined\",\r\n      pitchRange : [1, 128],\r\n      pitchMin : 1,\r\n      pitchMax : 128,\r\n      selectTrk : 1,\r\n      allSources: this.sources,\r\n\r\n    }\r\n  },\r\n  methods:{\r\n    callFunc(val){\r\n      let func = val.func, arg = val.arg;\r\n      this.$options.methods[func](this, arg);\r\n    },\r\n    setPitchRange(_this, val){\r\n      _this.pitchMin = val[0];\r\n      _this.pitchMax = val[1];\r\n      _this.pitchRange = val;\r\n    },\r\n    setAnalyzed(_this, val){\r\n      _this.analyzed = val.analyzed;\r\n      _this.allSources = val.allSources;\r\n      _this.selectTrk = val.selectTrk;\r\n    },\r\n    pianoRollAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"pianoRollAction\", val);\r\n    },\r\n    timbreSpaceAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbreSpaceAction\", val);\r\n    },\r\n    onChangePitchRange(evt){\r\n      this.timbreSpaceAction(\"filter\", [129 - this.pitchRange[1], 129 - this.pitchRange[0]]);\r\n    },\r\n    onSelectChangeTrk(evt){\r\n      this.pianoRollAction(\"selectChangeTrk\", this.selectTrk);\r\n      this.timbreSpaceAction(\"selectChangeTrk\", this.selectTrk);\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.timbrePanelCss{\r\n  width: 100%;\r\n  margin-left: 5px;\r\n}\r\n.largeBandCss{\r\n  width: 100%;\r\n  float: left;\r\n  margin-top: 10px;\r\n  margin-left: 20px;\r\n}\r\n.narrowBandCss{\r\n  margin: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.hintCss{\r\n  margin-left: 20px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n\r\n.midWCss{\r\n  width: 50%;\r\n  float: left;\r\n}\r\n.narrowWCss{\r\n  padding-top: 6px;\r\n  width: 25%;\r\n  float: left;\r\n}\r\n.largeWCss{\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.narrowCss{\r\n  margin-top: 5px;\r\n  margin-left: 5px;\r\n  width: 30%;\r\n  height: 20px;\r\n  float: left;\r\n}\r\n\r\n\r\n\r\n</style>","import { render } from \"./TimbrePanel.vue?vue&type=template&id=612cbb71&scoped=true\"\nimport script from \"./TimbrePanel.vue?vue&type=script&lang=js\"\nexport * from \"./TimbrePanel.vue?vue&type=script&lang=js\"\n\nimport \"./TimbrePanel.vue?vue&type=style&index=0&id=612cbb71&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-612cbb71\"]])\n\nexport default __exports__","<template>\r\n<div class=\"pianoPanel\">\r\n  <div class=\"basicPanel\">\r\n    <div class=\"xlargeWCss\">\r\n      Mouse Settings:\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      &nbsp; - Click\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      <el-radio-group v-model=\"mode\" @change=\"onChangeMode\">\r\n        <div class=\"xlargeWCss\">\r\n          <el-radio :label=\"1\">Drag</el-radio>\r\n        </div>\r\n        <div class=\"xlargeWCss\">\r\n          <el-radio :label=\"2\">Crop</el-radio>\r\n        </div>\r\n        <div class=\"xlargeWCss\">\r\n          <el-radio :label=\"3\">Fill</el-radio>\r\n        </div>\r\n      </el-radio-group>\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      &nbsp; - Scroll\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      <el-checkbox v-model=\"enableZoom\" @change=\"onChangeZoom\">zoom</el-checkbox>\r\n    </div>\r\n  </div>\r\n  <div class=\"cropPanel\">\r\n    <audio-panel ref=\"audioPanel\" @setAnalyze=\"setAnalyze\"\r\n                 @setAudioData=\"setAudioData\"\r\n                  @updatePlayingBar=\"updatePlayingBar\"></audio-panel>\r\n  </div>\r\n  <div class=\"cropPanel\">\r\n    <transfer-data-dialog ref=\"transferDataDialog\" :sources=\"allSources\"\r\n                          @setAnalyzed=\"setAnalyzed\"\r\n                          @setRepData=\"setRepData\"\r\n                          @setSepData=\"setSepData\"></transfer-data-dialog>\r\n\r\n    <div class=\"xlargeWCss\">\r\n      <div class=\"padWCss\"><span>Target source:</span></div>\r\n      <div class=\"largeWCss\">\r\n        <el-select v-model=\"selectTrk\" placeholder=\"Select source\" size=\"small\" :disabled=\"!analyzed\" @change=\"onSelectChangeTrk\">\r\n          <el-option  v-for=\"item in allSources\" :key=\"item.id\" :label=\"item.label\" :value=\"item.id\" />\r\n        </el-select>\r\n      </div>\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n      <div class=\"padWCss\"><span>Start - End time (s):</span></div>\r\n      <div class=\"mlargeWCss\">\r\n        <div class=\"timeCss\"><el-input v-model=\"minSec\" disabled placeholder=\"00:00\" /></div>\r\n        <div class=\"narWCss\">-</div>\r\n        <div class=\"timeCss\"><el-input v-model=\"maxSec\" disabled placeholder=\"00:00\" /></div>\r\n  <!--      <el-slider class=\"slider\" v-model=\"cropAreaX\" range :max=\"cropAreaXMax\" :min=\"cropAreaXMin\" size=\"small\"\r\n                   :disabled=\"!analyzed\"\r\n                   @change=\"onChangeCrop\"/>-->\r\n      </div>\r\n    </div>\r\n    <div class=\"xlargeWCss\">\r\n        <el-button type=\"warning\"   size=\"small\" @click=\"onClickCrop\" :disabled=\"!isCrop\">Crop</el-button>\r\n        <el-button type=\"primary\" plain size=\"small\" @click=\"onClickRevise\" :disabled=\"!isCrop\">Revise</el-button>\r\n        <el-button type=\"warning\"  size=\"small\" @click=\"onClickErase\" :disabled=\"!isCrop\">Erase</el-button>\r\n        <el-button type=\"primary\" plain size=\"small\" @click=\"onClickFill\" :disabled=\"!isPaint\">Fill</el-button>\r\n      </div>\r\n    <div class=\"xlargeWCss\">\r\n        <el-button type=\"warning\" plain size=\"small\" @click=\"onClickUndo\" :disabled=\"!isCrop\">Undo</el-button>\r\n        <el-button type=\"primary\"  size=\"small\" @click=\"onClickRedo\" :disabled=\"!isCrop\">Redo</el-button>\r\n        <el-button type=\"warning\" plain size=\"small\" @click=\"onClickReset\" :disabled=\"!isCrop\">Reset</el-button>\r\n      <el-button type=\"danger\"  size=\"small\" :disabled=\"!isCrop\" @click=\"onClickRefine\">Refine</el-button>\r\n      <save-change-dialog ref=\"saveChangeDialog\" @setAnalyzed=\"setAnalyzed\"\r\n                          @setSepData=\"setSepData\"></save-change-dialog>\r\n\r\n      </div>\r\n    </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport AudioPanel from \"@/components/panel/AudioPanel\"\r\nimport TransferDataDialog from \"@/components/dialog/TransferDataDialog\";\r\nimport SaveChangeDialog from \"@/components/dialog/SaveChangeDialog\";\r\nimport {formatTime} from \"../../js/ultilities\"\r\n\r\nexport default {\r\n  name: \"PianoPanel\",\r\n  components: {\r\n    SaveChangeDialog,\r\n    TransferDataDialog,\r\n    AudioPanel,\r\n  },\r\n  props :{\r\n    sources : Object,\r\n  },\r\n  data(){\r\n\r\n    return{\r\n      mode : 1,\r\n      enableZoom : true,\r\n      isSelect: false,\r\n      analyzed: false,\r\n      dialogFormVisible : false,\r\n      resUrl : \"\",\r\n      formLabelWidth : 120,\r\n      isDrag: false,\r\n      isCrop: false,\r\n      isPaint: false,\r\n      minSec : \"00:00\",\r\n      maxSec : \"00:00\",\r\n      selectTrk : 1,\r\n      allSources : this.sources,\r\n    }\r\n  },\r\n  methods:{\r\n    callFunc(val){\r\n      let func = val.func, arg = val.arg;\r\n      this.$options.methods[func](this, arg);\r\n    },\r\n    setAnalyze(){\r\n      this.analyzed = false;\r\n      this.$emit(\"refreshCanvas\", null);\r\n      this.$refs.transferDataDialog.setAnalyze();\r\n      this.$refs.audioPanel.setAnalyzed(this.analyzed);\r\n      this.reset();\r\n      let analyzed = {\"analyzed\" : this.analyzed, \"sources\" : this.allSources, \"selectTrk\" : this.selectTrk};\r\n      this.$emit(\"timbrePanelAction\", {\"func\" : \"setAnalyzed\", \"arg\" : analyzed});\r\n    },\r\n    setRepData(val){\r\n      this.$refs.saveChangeDialog.setRepData(val);\r\n    },\r\n    setSepData(val){\r\n      this.$refs.audioPanel.setSepData(val);\r\n    },\r\n    setAnalyzed(val){\r\n      this.$emit(\"refreshCanvas\", val);\r\n      this.allSources = []\r\n      for(let i = 0; i<this.$refs.transferDataDialog.sourcesNum; ++i) {\r\n        this.allSources.push({\"id\" : i + 1, \"label\" : (i + 1) + \"\"});\r\n      }\r\n      this.selectTrk = 1;\r\n      if(val == null){\r\n        this.analyzed = false;\r\n      }else{\r\n        this.analyzed = true;\r\n      }\r\n      this.$refs.audioPanel.setAnalyzed(this.analyzed);\r\n      let analyzed = {\"analyzed\" : this.analyzed, \"sources\" : this.allSources, \"selectTrk\" : this.selectTrk, \"pca\" : val.pca, \"center\" : val.center}\r\n      this.$emit(\"timbrePanelAction\", {\"func\" : \"setAnalyzed\", \"arg\" : analyzed});\r\n\r\n    },\r\n    pianoRollAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"pianoRollAction\", val);\r\n    },\r\n    timbreSpaceAction(func, arg=null){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbreSpaceAction\", val);\r\n    },\r\n\r\n    updatePlayingBar(val){\r\n      this.pianoRollAction(\"updatePlayingBar\", val);\r\n    },\r\n    reset(){\r\n      if(!this.analyzed){\r\n        this.isDrag = false;\r\n        this.isCrop = false;\r\n        this.isPaint = false;\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    onSetDrag(evt){\r\n      if(this.reset())\r\n        return;\r\n      this.isDrag = true;\r\n      this.isCrop = false;\r\n      this.isPaint = false;\r\n      this.pianoRollAction(\"setGeneral\");\r\n    },\r\n    onSetPaint(evt){\r\n      if(this.reset())\r\n        return;\r\n      this.isDrag = false;\r\n      this.isCrop = false;\r\n      this.isPaint = true;\r\n      this.pianoRollAction(\"setPaint\");\r\n    },\r\n    onSetCrop(evt){\r\n      if(this.reset())\r\n        return;\r\n      this.isDrag = false;\r\n      this.isCrop = true;\r\n      this.isPaint = false;\r\n      this.pianoRollAction(\"setCrop\");\r\n    },\r\n    onChangeZoom(evt){\r\n      this.pianoRollAction(\"setZoom\", this.enableZoom);\r\n      this.timbreSpaceAction(\"setZoom\", this.enableZoom);\r\n    },\r\n    onChangeMode(evt){\r\n      if(this.mode == 1)\r\n        this.onSetDrag(evt);\r\n      else if(this.mode == 2)\r\n        this.onSetCrop(evt);\r\n      else if(this.mode == 3)\r\n        this.onSetPaint(evt);\r\n    },\r\n    onSelectChangeTrk(evt){\r\n      this.pianoRollAction(\"selectChangeTrk\", this.selectTrk);\r\n      this.$refs.audioPanel.setSelectTrk(this.selectTrk);\r\n    },\r\n    updateSecRange(_this, arg){\r\n      _this.minSec = formatTime(arg[0]);\r\n      _this.maxSec = formatTime(arg[2]);\r\n      _this.$emit(\"updateCanvas\", arg);\r\n    },\r\n\r\n    onClickCrop(evt){\r\n      this.pianoRollAction(\"crop\");\r\n    },\r\n    onClickRevise(evt){\r\n      this.pianoRollAction(\"revise\");\r\n    },\r\n    onClickErase(evt){\r\n      this.pianoRollAction(\"erase\");\r\n    },\r\n    onClickFill(evt){\r\n      this.pianoRollAction(\"fill\");\r\n    },\r\n    onClickUndo(evt){\r\n      this.pianoRollAction(\"undo\");\r\n    },\r\n    onClickRedo(evt){\r\n      this.pianoRollAction(\"redo\");\r\n    },\r\n    onClickReset(evt){\r\n      this.pianoRollAction(\"reset\");\r\n    },\r\n    onClickRefine(evt){\r\n      this.pianoRollAction(\"setJsonData\", null);\r\n      this.$refs.saveChangeDialog.showDialog();\r\n    },\r\n\r\n    setJsonData(_this, val){\r\n      _this.$refs.saveChangeDialog.setJsonData(val);\r\n    },\r\n    setAudioData(val){\r\n      this.$refs.transferDataDialog.setAudioData(val);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.switch{\r\n    --el-switch-on-color: #174D96FF !important;\r\n}\r\n.slider {\r\n  .el-slider__bar{\r\n    --el-slider-main-background-color: #174D96FF;\r\n    }\r\n  .el-slider__button{\r\n    --el-slider-main-background-color: #174D96FF;\r\n    }\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.pianoPanel{\r\n  padding: 5px;\r\n  width: 100%;\r\n  height: 240px;\r\n}\r\n.basicPanel{\r\n  float: left;\r\n  width: 16%;\r\n  height: 100%;\r\n  background-color: #d3e5f6;\r\n}\r\n.cropPanel{\r\n  margin-left: 10px;\r\n  float: left;\r\n  width: 40%;\r\n  height: 100%;\r\n  background-color: #d3e5f6;\r\n}\r\n.paintPanel{\r\n  float: left;\r\n  width: 30%;\r\n  height: 100%;\r\n  margin-left: 10px;\r\n  background-color: #d3e5f6;\r\n}\r\n\r\n.xlargeWCss{\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.mlargeWCss{\r\n  margin-left: 20px;\r\n  width: 50%;\r\n  float: left;\r\n}\r\n.narCss{\r\n  //width: 80%;\r\n  width: 40%;\r\n  float: left;\r\n  padding-left: 0;\r\n  padding-right: 10px;\r\n}\r\n.largeWCss{\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.nnarWCss{\r\n  margin-right: 4px;\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  width: 15%;\r\n  float: left;\r\n  padding-left: 5%;\r\n  font-size: 20pt;\r\n}\r\n.midWCss{\r\n  margin-right: 5px;\r\n  width: 30%;\r\n  float: left;\r\n}\r\n.padWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 36%;\r\n  float: left;\r\n}\r\n.padNarWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 20%;\r\n  display: inline;\r\n  float: left;\r\n\r\n}\r\n.largeBandCss{\r\n  margin-top: 10px;\r\n  margin-left: 20px;\r\n  width: 100%;\r\n  height: 100px;\r\n\r\n}\r\n.narrowBandCss{\r\n  margin-top: 5px;\r\n  margin-left: 20px;\r\n  width: 100%;\r\n  height: 40px;\r\n}\r\n.hintCss{\r\n  width: 80%;\r\n  height: 10%;\r\n  margin-left: 15%;\r\n  margin-bottom: 4%;\r\n}\r\n.timeCss{\r\n  width: 40%;\r\n  float: left;\r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"xlargeWCss\">\r\n    <div class=\"largePadWCss\">\r\n      <span>Upload a mixture:</span>\r\n      <div class=\"narWCss\">\r\n            mp3/wav file with a duration less than 2 min\r\n      </div>\r\n    </div>\r\n    <el-upload\r\n      ref=\"uploadRef\"\r\n      action=\"\"\r\n      :limit=\"1\"\r\n      :on-exceed=\"handleExceed\"\r\n      :on-change=\"onChangeFile\"\r\n      :auto-upload=\"false\">\r\n        <el-button type=\"primary\"  size=\"small\">Select</el-button>\r\n      </el-upload>\r\n    </div>\r\n\r\n  <div class=\"audioPlayer\">\r\n    <div class=\"xlargeWCss\">\r\n    <div class=\"narCss\">\r\n      <span>Audio play mode:</span>\r\n    </div>\r\n    <div class=\"largeWCss\">\r\n      <el-radio-group v-model=\"mode\" @change=\"onChangeMode\">\r\n          <el-radio :label=\"1\">Mixture</el-radio>\r\n          <el-radio :label=\"2\" :disabled=\"!analyzed\">Target sources</el-radio>\r\n      </el-radio-group>\r\n    </div>\r\n  </div>\r\n    <div class=\"xlargeWCss\" >\r\n      <audio id=\"myAudio\" controls :src=\"audioSrc\" @timeupdate=\"updateTime\"></audio>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AudioPanel\",\r\n  data(){\r\n    let current = 0, total = 0;\r\n    return{\r\n      sepURL : {},\r\n      mode: 1,\r\n      selectTrk : 1,\r\n      enableAudioSubmit : false,\r\n      analyzed : false,\r\n      audioSrc : \"mix.wav\",\r\n      hasRawInput : false,\r\n      hasSeparate : false,\r\n      minDur : current,\r\n      maxDur : total,\r\n      currentDur : current,\r\n      totalDur : total,\r\n      processStr : this.getFormatProcess(current, total),\r\n    }\r\n  },\r\n\r\n\r\n  watch:{\r\n    currentCur(){\r\n      this.processStr = this.getFormatProcess();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.audio = document.getElementById(\"myAudio\");\r\n  },\r\n  methods: {\r\n    padNum(x, n) {\r\n      return (Array(n).join(\"0\") + x).slice(-n);\r\n    },\r\n    formatTime(s) {\r\n      let m = Math.floor(s / 60);\r\n      s = s - m * 60;\r\n      return this.padNum(m, 2) + \" : \" + this.padNum(s, 2);\r\n    },\r\n    getFormatProcess(a, b) {\r\n      if (a == null) {\r\n        a = this.currentDur;\r\n        b = this.totalDur;\r\n      }\r\n      return this.formatTime(a) + \" - \" + this.formatTime(b);\r\n    },\r\n\r\n    updateTime(e){\r\n      this.currentDur = e.target.currentTime;\r\n      this.$emit(\"updatePlayingBar\", this.currentDur);\r\n    },\r\n    onChangeFile(file) {\r\n      file = file.raw;\r\n      let isAudio = (file.type === 'audio/mp3' || file.type === 'audio/wav');\r\n      let valiSize = file.size / 1024 / 1024 < 20;\r\n      if (!isAudio) {\r\n        this.$message.error(\"Please select a file with wav/mp3 format Ｏ(ゝω・´★)\");\r\n      }\r\n      if (!valiSize) {\r\n        this.$message.error('Refuse! it\\'s tooooo large Ｏ(ゝω・´★)');\r\n      }\r\n      if (isAudio && valiSize) {\r\n        let _this = this\r\n        let urlReader = new FileReader();\r\n        urlReader.readAsDataURL(file);\r\n        this.audioData = {\"data\" : file, \"type\" : file.type};\r\n        this.$emit(\"setAudioData\", this.audioData);\r\n        urlReader.onloadend = function (oFRevent) {\r\n          _this.mixtureURL = oFRevent.target.result;\r\n          _this.audioSrc = oFRevent.target.result;\r\n          _this.setAnalyze();\r\n        };\r\n      }else{\r\n        this.$refs.uploadRef.clearFiles()\r\n      }\r\n    },\r\n    onClickUpload(evt) {\r\n      this.$refs.uploadRef.submit();\r\n    },\r\n    onClickPlay() {\r\n      this.$refs.audio.play();\r\n    },\r\n    onChangeMode(){\r\n      let res = this.mode == 1 ? this.mixtureURL : this.sepURL[\"\"+(this.selectTrk - 1)];\r\n      this.changeAudioSrc(res);\r\n    },\r\n    changeAudioSrc(res){\r\n      let audio = this.audio;\r\n      let currentTime = audio.currentTime;\r\n      audio.pause();\r\n      this.audioSrc = res;\r\n      audio.onloadedmetadata = function() {\r\n        audio.currentTime = currentTime;\r\n        audio.play();\r\n      };\r\n    },\r\n    setSepData(val){\r\n      console.log(val.pos, val.data);\r\n      this.sepURL[val.pos + \"\"] = val.data;\r\n    },\r\n    setSelectTrk(val){\r\n      this.selectTrk = val;\r\n      if(this.mode == 2){\r\n        let res = this.sepURL[\"\"+(this.selectTrk - 1)];\r\n        this.changeAudioSrc(res);\r\n      }\r\n    },\r\n    setAnalyze(){\r\n      this.hasRawInput = true;\r\n      this.analyzed = false;\r\n      this.mode = 1;\r\n      this.audio.currentTime = 0;\r\n      this.$emit(\"setAnalyze\", null);\r\n    },\r\n    handleExceed(files){\r\n      this.$refs.uploadRef.clearFiles()\r\n      this.$refs.uploadRef.handleStart(files[0])\r\n    },\r\n    setAnalyzed(val){\r\n      if(!val){\r\n        this.mode = 1;\r\n      }\r\n      this.analyzed = val;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.audioPlayer{\r\n  margin-top: 15px;\r\n  padding-top: 10px;\r\n  margin-bottom: 10px;\r\n  margin-left: 5px;\r\n  width: 96%;\r\n  background-color: #b4ccef;\r\n  height: 45%;\r\n  float: left;\r\n}\r\n.xlargeWCss{\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.narCss{\r\n  width: 35%;\r\n  float: left;\r\n  padding-left: 0;\r\n  padding-right: 10px;\r\n}\r\n\r\n.largeWCss{\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.largePadWCss{\r\n  padding-top: 5px;\r\n  margin-left: 12px;\r\n  margin-right: 2px;\r\n  width: 60%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  padding-left: 10px;\r\n  padding-top: 10px;\r\n  width: 90%;\r\n  font-size: 10pt;\r\n  color: gray;\r\n}\r\n</style>","import { render } from \"./AudioPanel.vue?vue&type=template&id=90c23d8a&scoped=true\"\nimport script from \"./AudioPanel.vue?vue&type=script&lang=js\"\nexport * from \"./AudioPanel.vue?vue&type=script&lang=js\"\n\nimport \"./AudioPanel.vue?vue&type=style&index=0&id=90c23d8a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-90c23d8a\"]])\n\nexport default __exports__","<template>\r\n   <div class=\"xlargeWCss\">\r\n      <div class=\"padWCss\"><span>Select sources num:</span></div>\r\n      <div class=\"nnarWCss\">\r\n        <el-select v-model=\"sourcesNum\" placeholder=\"Select\" size=\"small\" :disabled=\"!hasRawInput\" @change=\"onSelectChangeSourcesNum\">\r\n            <el-option\r\n              v-for=\"item in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\"\r\n              :key=\"item\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            />\r\n          </el-select>\r\n      </div>\r\n      <div class=\"narWCss\">\r\n        <el-button type=\"warning\"  size=\"small\" @click=\"dialogFormVisible=true\" :disabled=\"disAnalyze\">Analyze</el-button>\r\n      </div>\r\n   </div>\r\n    <div class=\"xlargeWCss\">\r\n      <el-dialog v-model=\"dialogFormVisible\" title=\"Analyze mixture...\" v-loading=\"loading\">\r\n        <el-form >\r\n          <el-timeline>\r\n            <el-timeline-item timestamp=\"Step 1\">\r\n              <el-button type=\"danger\" @click=\"onClickDownloadData\">Download</el-button>\r\n                  the data file\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 2\">\r\n                    Open this\r\n                    <a href=\"https://colab.research.google.com/github/anonymous-16/santouguai_v03_server/blob/main/santouguai_v03_step1.ipynb\">link</a>\r\n                    in a new window, upload the data file and run the model to get the result url.\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 3\">\r\n              <el-upload\r\n                    ref=\"uploadRef\"\r\n                    action=\"\"\r\n                    :limit=\"1\"\r\n                    :on-exceed=\"handleExceed\"\r\n                    :on-change=\"onChangeFile\"\r\n                    :auto-upload=\"false\">\r\n                    <el-button type=\"success\"  size=\"small\">Upload</el-button>the result file (output_step1.zip) and click 'confirm'\r\n              </el-upload>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </el-form>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\r\n            <el-button type=\"primary\" @click=\"onClickConfirm\">Confirm</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { saveAs } from 'file-saver';\r\nimport JSZip from 'jszip';\r\n\r\nexport default {\r\n  name: \"TransferDataDialog\",\r\n  props:{\r\n    sources: Object,\r\n  },\r\n  data(){\r\n    return{\r\n      loading: false,\r\n      allSources: this.sources,\r\n      disAnalyze: true,\r\n      sourcesNum: 1,\r\n      hasRawInput: false,\r\n      dialogFormVisible: false,\r\n      selectedFile : null,\r\n      jsonData : null,\r\n    }\r\n  },\r\n  methods:{\r\n    setAudioData(val){\r\n      this.audioData = val;\r\n    },\r\n    onClickDownloadData(evt){\r\n      let data = this.audioData;\r\n      let audioData = data.data;\r\n      let audioType = data.type;\r\n      const blob = new Blob([audioData], {type: audioType});\r\n      const zip = new JSZip();\r\n      let dataPath = audioType == \"audio/wav\" ? \"input_data/mix.wav\" : \"input_data/mix.mp3\"\r\n      zip.file(dataPath, blob);\r\n      let metaData = {\"sourcesNum\" : this.sourcesNum, \"audioType\" : audioType};\r\n      metaData = JSON.stringify(metaData);\r\n      //const metaBlob = new Blob([metaData], {type: \"application/json\"});\r\n      zip.file(\"input_data/metadata\", metaData);\r\n      zip.generateAsync({type: \"blob\", compression: \"DEFLATE\", compressionOptions: {level: 9}}).then((content) => {\r\n          saveAs(content, \"input_data.zip\");\r\n        });\r\n    },\r\n    onChangeFile(file) {\r\n      file = file.raw;\r\n      let isVali = (file.type === 'application/zip');\r\n      if (!isVali) {\r\n        this.$message.error(\"Please select 'output_step1.zip' Ｏ(ゝω・´★)\");\r\n        this.$refs.uploadRef.clearFiles()\r\n        this.selectedFile = null;\r\n      }else{\r\n        this.selectedFile = file;\r\n      }\r\n\r\n    },\r\n    handleExceed(files){\r\n      this.$refs.uploadRef.clearFiles()\r\n      this.$refs.uploadRef.handleStart(files[0])\r\n    },\r\n    onClickConfirm(evt){\r\n      this.loading = true;\r\n      let file = this.selectedFile;\r\n      if(file == null){\r\n        this.$message.error(\"Please select the file 'output_step1.zip' Ｏ(ゝω・´★)\");\r\n        return;\r\n      }\r\n      let arReader = new FileReader();\r\n      arReader.readAsArrayBuffer(file);\r\n      let data = this.audioData;\r\n      let audioData = data.data;\r\n      let audioType = data.type;\r\n      const blob = new Blob([audioData], {type: audioType});\r\n      this.audioBlob = blob;\r\n      let _this = this;\r\n      arReader.onloadend = function (oFRevent) {\r\n        let data = oFRevent.target.result;\r\n        JSZip.loadAsync(data).then((zip) => {\r\n          let base = zip.file(\"output_step1/data.json\").async(\"string\");\r\n          _this.setRepData({\"sourcesNum\" : _this.sourcesNum, \"mix\" : _this.audioBlob})\r\n          base.then(res => {\r\n            let json = JSON.parse(res);\r\n            _this.jsonData = json;\r\n            _this.setAnalyzed();\r\n          });\r\n          for(let i = 0;i < _this.sourcesNum; ++i){\r\n            let unit = zip.file(\"output_step1/\" + i + \".wav\").async(\"blob\");\r\n            unit.then(res => {\r\n                _this.setSepData(URL.createObjectURL(res), i, _this.sourcesNum);\r\n              });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    onSelectChangeSourcesNum(val){\r\n      this.disAnalyze = false;\r\n    },\r\n    setSepData(data, pos, sourcesNum){\r\n      let val = {\"data\" : data, \"pos\" : pos, \"sourcesNum\" : sourcesNum};\r\n      this.$emit(\"setSepData\", val);\r\n    },\r\n    setRepData(val){\r\n      this.$emit(\"setRepData\", val);\r\n    },\r\n    setAnalyzed(){\r\n      this.disAnalyze = true;\r\n      this.loading = false;\r\n      this.dialogFormVisible = false;\r\n      this.$emit(\"setAnalyzed\", this.jsonData);\r\n    },\r\n    setAnalyze(){\r\n      this.disAnalyze = false;\r\n      this.hasRawInput = true;\r\n      this.jsonData = null;\r\n    }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.xlargeWCss{\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.nnarWCss{\r\n  margin-right: 4px;\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.padWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 36%;\r\n  float: left;\r\n}\r\n\r\n</style>","import { render } from \"./TransferDataDialog.vue?vue&type=template&id=166eb34a&scoped=true\"\nimport script from \"./TransferDataDialog.vue?vue&type=script&lang=js\"\nexport * from \"./TransferDataDialog.vue?vue&type=script&lang=js\"\n\nimport \"./TransferDataDialog.vue?vue&type=style&index=0&id=166eb34a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-166eb34a\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"xlargeWCss\">\r\n      <el-dialog v-model=\"dialogFormVisible\" title=\"Revise result...\">\r\n        <el-form >\r\n          <el-timeline>\r\n            <el-timeline-item timestamp=\"Step 1\">\r\n              <el-button type=\"danger\" @click=\"onClickDownloadData\" v-loading=\"loading\">Download</el-button>\r\n                  the data file\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 2\">\r\n                    Open this\r\n                    <a href=\"https://colab.research.google.com/github/anonymous-16/santouguai_v03_server/blob/main/santouguai_v03_step2.ipynb\">link</a>\r\n                    in a new window, upload the data file and run the model to get the result url.\r\n            </el-timeline-item>\r\n            <el-timeline-item timestamp=\"Step 3\">\r\n              <el-upload\r\n                    ref=\"uploadRef\"\r\n                    action=\"\"\r\n                    :limit=\"1\"\r\n                    v-loading=\"loading\"\r\n                    :on-exceed=\"handleExceed\"\r\n                    :on-change=\"onChangeFile\"\r\n                    :auto-upload=\"false\">\r\n                    <el-button type=\"success\"  size=\"small\">Upload</el-button>the result file (output_step2.zip) and click 'confirm'\r\n              </el-upload>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </el-form>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\r\n            <el-button type=\"primary\" @click=\"onClickConfirm\">Confirm</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport JSZip from \"jszip\";\r\nimport { saveAs } from 'file-saver';\r\nimport {encode} from '../../js/ultilities';\r\n\r\nexport default {\r\n  name: \"SaveChangeDialog\",\r\n  data(){\r\n    return{\r\n      dialogFormVisible : false,\r\n      jsonData : null,\r\n      loading : false,\r\n    }\r\n  },\r\n  methods:{\r\n    setJsonData(val){\r\n      this.jsonData = {\"data\" : val, \"sourcesNum\" : this.sourcesNum};\r\n    },\r\n    setRepData(val){\r\n      //this.repData = val.data;\r\n      this.sourcesNum = val.sourcesNum;\r\n      this.audioBlob = val.mix;\r\n    },\r\n    showDialog(){\r\n      this.dialogFormVisible = true;\r\n    },\r\n    onClickDownloadData(evt){\r\n      if(this.jsonData == null || this.audioBlob == null){\r\n        this.$message.error(\"ahhhhhhhhhhhhhhhhhhhhhhhh' Ｏ(ゝω・´★)\");\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      const zip = new JSZip();\r\n      let str = encode(JSON.stringify(this.jsonData));\r\n      let json_blob = new Blob( [ str ], {type: 'application/octet-stream'});\r\n      let json_dataPath = \"revised_data/data.json\"\r\n      zip.file(json_dataPath, json_blob);\r\n      let audio_path = \"revised_data/mix.wav\";\r\n      zip.file(audio_path, this.audioBlob);\r\n      zip.generateAsync({type: \"blob\", compression: \"DEFLATE\", compressionOptions: {level: 9}}).then((content) => {\r\n          saveAs(content, \"revised_data.zip\");\r\n          this.loading = false;\r\n        });\r\n    },\r\n    onChangeFile(file) {\r\n      file = file.raw;\r\n      let isVali = (file.type === 'application/zip' && file.name === 'output_step2.zip');\r\n      if (!isVali) {\r\n        this.$message.error(\"Please select 'output_step2.zip' Ｏ(ゝω・´★)\");\r\n        this.$refs.transferUploadRef.clearFiles()\r\n        this.selectedFile = null;\r\n      }else{\r\n        this.selectedFile = file;\r\n      }\r\n\r\n    },\r\n    handleExceed(files){\r\n      this.$refs.uploadRef.clearFiles()\r\n      this.$refs.uploadRef.handleStart(files[0])\r\n    },\r\n    onClickConfirm(evt){\r\n      let file = this.selectedFile;\r\n      if(file == null){\r\n        this.$message.error(\"Please select the file 'output_step2.zip' Ｏ(ゝω・´★)\");\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      let arReader = new FileReader();\r\n      arReader.readAsArrayBuffer(file);\r\n      let _this = this;\r\n      arReader.onloadend = function (oFRevent) {\r\n        let data = oFRevent.target.result;\r\n        JSZip.loadAsync(data).then((zip) => {\r\n          let base = zip.file(\"output_step2/data.json\").async(\"string\");\r\n              base.then(res => {\r\n                let json = JSON.parse(res);\r\n                _this.setAnalyzed(json);\r\n              });\r\n          _this.sepURL = []\r\n          for(let i = 0;i < _this.sourcesNum; ++i){\r\n            let unit = zip.file(\"output_step2/\" + i + \".wav\").async(\"blob\");\r\n              unit.then(res => {\r\n                _this.setSepData(URL.createObjectURL(res), i, _this.sourcesNum);\r\n              });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    setSepData(data, pos, sourcesNum) {\r\n      let val = {\"data\": data, \"pos\": pos, \"sourcesNum\": sourcesNum};\r\n      this.$emit(\"setSepData\", val);\r\n    },\r\n    setAnalyzed(val){\r\n      this.disAnalyze = true;\r\n      this.loading = false;\r\n      this.dialogFormVisible = false;\r\n      this.$emit(\"setAnalyzed\", val);\r\n      this.jsonData = null;\r\n    },\r\n  },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.xlargeWCss{\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n  float: left;\r\n}\r\n.nnarWCss{\r\n  margin-right: 4px;\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.narWCss{\r\n  width: 20%;\r\n  float: left;\r\n}\r\n.padWCss{\r\n  padding-top: 7px;\r\n  margin-right: 5px;\r\n  width: 36%;\r\n  float: left;\r\n}\r\n\r\n</style>","\r\nfunction copy(x){\r\n    return JSON.parse(JSON.stringify(x));\r\n}\r\nfunction swap(x, y){\r\n      let t = x;\r\n      x = y;\r\n      y = t;\r\n      return [x, y];\r\n    }\r\n\r\nfunction formatRect(p1, p2){\r\n    let x = p1[0], y = p1[1];\r\n    let w = p2[0] - x, h = p2[1] - y;\r\n    if(w < 0){\r\n        w = -w;\r\n        x = p2[0];\r\n    }\r\n    if(h < 0){\r\n        h = -h;\r\n        y = p2[1];\r\n    }\r\n    return [x, y, w, h];\r\n}\r\nfunction encode( s ) {\r\n\tlet out = [];\r\n\tfor ( let i = 0; i < s.length; i++ ) {\r\n\t\tout[i] = s.charCodeAt(i);\r\n\t}\r\n\treturn new Uint8Array( out );\r\n}\r\nfunction formatTime(x, float=0){\r\n    let min = Math.floor(x / 60);\r\n    let sec = x - min * 60;\r\n    sec = float>0?sec.toFixed(float):Math.floor(sec);\r\n    min = (min + \"\").padStart(2, \"0\");\r\n    sec = (sec + \"\").padStart(2, \"0\");\r\n\r\n    min = min.slice(-2, min.length);\r\n    if(float == 0){\r\n        sec = sec.slice(-2, sec.length);\r\n    }else{\r\n        sec = sec.slice(-3 - float, sec.length);\r\n    }\r\n    return min + \":\" + sec;\r\n}\r\n\r\nexport {copy, formatRect, swap, formatTime, encode}","import { render } from \"./SaveChangeDialog.vue?vue&type=template&id=ab97b44c&scoped=true\"\nimport script from \"./SaveChangeDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SaveChangeDialog.vue?vue&type=script&lang=js\"\n\nimport \"./SaveChangeDialog.vue?vue&type=style&index=0&id=ab97b44c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab97b44c\"]])\n\nexport default __exports__","import { render } from \"./PianoPanel.vue?vue&type=template&id=528b4a22&scoped=true\"\nimport script from \"./PianoPanel.vue?vue&type=script&lang=js\"\nexport * from \"./PianoPanel.vue?vue&type=script&lang=js\"\n\nimport \"./PianoPanel.vue?vue&type=style&index=0&id=528b4a22&lang=scss\"\nimport \"./PianoPanel.vue?vue&type=style&index=1&id=528b4a22&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-528b4a22\"]])\n\nexport default __exports__","<template>\r\n<div>\r\n  <canvas ref=\"canvas\"></canvas>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {formatTime} from '../../js/ultilities';\r\n\r\nexport default {\r\n  name: \"TimeTickerCanvas\",\r\n  mounted() {\r\n    this.cvs = this.$refs.canvas;\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n  },\r\n  methods:{\r\n    setSize(w, h){\r\n      this.W = w;\r\n      this.H = h;\r\n      this.cvs.width = this.W;\r\n      this.cvs.height = this.H;\r\n    },\r\n    formatSec(minSc, maxSc){\r\n      let dt = 1, float=0;\r\n      if(maxSc - minSc <= 30 && maxSc - minSc > 10){\r\n        dt = 2;\r\n        float = 0;\r\n      }else if(maxSc - minSc <= 10 && maxSc - minSc > 5){\r\n        dt = 10;\r\n        float = 0;\r\n      }else if(maxSc - minSc <= 5){\r\n        dt = 20;\r\n        float = 1;\r\n      }\r\n      maxSc = maxSc * dt;\r\n      minSc = minSc * dt;\r\n      return [minSc, maxSc, dt, float];\r\n    },\r\n    refresh(minSec, maxSec){\r\n      let ctx = this.ctx;\r\n      let MB = 10, scale, float;\r\n      ctx.clearRect(0, 0, this.W, this.H);\r\n      ctx.lineWidth = 1;\r\n      ctx.strokeStyle = \"#000000\";\r\n      [minSec, maxSec, scale, float] = this.formatSec(minSec, maxSec);\r\n      let dt = this.W / (maxSec - minSec)\r\n      for(let i = 0; i <= maxSec - minSec; ++i){\r\n        ctx.beginPath();\r\n        ctx.moveTo(i * dt,0);\r\n        if(Math.floor((minSec + i) / MB) * MB == minSec + i){\r\n          ctx.lineTo(i * dt, this.H);\r\n          ctx.stroke();\r\n          ctx.fillText(formatTime((minSec + i)*1./scale, float), (i + 0.1) * dt, this.H)\r\n        }\r\n        else{\r\n          ctx.lineTo(i * dt,this.H *0.4);\r\n          ctx.stroke();\r\n        }\r\n\r\n\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./TimeTickerCanvas.vue?vue&type=template&id=5d4515f7\"\nimport script from \"./TimeTickerCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./TimeTickerCanvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<div>\r\n  <canvas ref=\"canvas\"></canvas>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PianoCanvas\",\r\n  mounted() {\r\n    this.cvs = this.$refs.canvas;\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n  },\r\n  methods:{\r\n    setSize(w, h, padH){\r\n      this.W = w;\r\n      this.H = h;\r\n      this.padH = padH;\r\n      this.cvs.width = this.W;\r\n      this.cvs.height = this.H;\r\n    },\r\n    getWhiteKeys(x){\r\n      let register = Math.floor((x + 9) / 12);\r\n      let octave = x + 9 - register * 12;\r\n      if(x <= 6)\r\n        return Math.floor((x + 2) / 2) + register * 7;\r\n      else\r\n        return Math.floor((x + 3) / 2)+ register * 7;\r\n    },\r\n    refresh(minPitch, maxPitch) {\r\n      let ctx = this.ctx, h = this.H - this.padH;\r\n      minPitch = 128 - maxPitch;\r\n      maxPitch = 128 - minPitch;\r\n      let onset = this.getWhiteKeys(minPitch);\r\n      let offset = this.getWhiteKeys(maxPitch);\r\n      let keys_num = offset - onset;\r\n      let dt = h * 1. / keys_num;\r\n\r\n      this.ctx.strokeStyle = \"black\";\r\n      ctx.lineWidth = 1;\r\n      let st = 0;\r\n      for(let i = 0; i < keys_num; ++ i){\r\n        ctx.strokeRect(0, i * dt + this.padH, this.W, dt);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./PianoCanvas.vue?vue&type=template&id=6ec89970\"\nimport script from \"./PianoCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./PianoCanvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","class TimbreDB {\r\n    constructor(pca, center) {\r\n        this.mean = pca.mean;\r\n        this.cps = pca.cps;\r\n        this.centerEmb = center;\r\n        this.initialize();\r\n    }\r\n    initialize() {\r\n        let centerData = this.pcaTransform(this.centerEmb);\r\n        let tags = []\r\n        for(let i = 0; i < centerData.length; ++i)\r\n            tags.push((i + 1) + \"\");\r\n        let centerTags = tags;\r\n        this.centerData = {\"data\" : centerData, \"tag\" : centerTags};\r\n    }\r\n\r\n    pcaTransform(x){\r\n        let y = [];\r\n        for(let i = 0; i < x.length ; ++ i){\r\n            let res = []\r\n            for(let j = 0; j < this.cps[0].length; ++ j){\r\n                let val = 0.;\r\n                for(let k = 0; k < this.cps.length; ++ k){\r\n                    val += (x[i][k] - this.mean[k]) * this.cps[k][j];\r\n                }\r\n                res.push(val);\r\n            }\r\n            y.push(res);\r\n        }\r\n        return y;\r\n    }\r\n    getCenters(){\r\n        return this.centerData;\r\n    }\r\n}\r\n\r\nfunction createTimbreDB(pca, center){\r\n    let timbreDB = new TimbreDB(pca, center);\r\n    return timbreDB;\r\n}\r\n\r\nexport {createTimbreDB}","<template>\r\n  <div style=\"background-color: white\">\r\n    <canvas ref=\"canvas\"\r\n            ></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {copy} from '../../js/ultilities';\r\nimport {createCanvasData} from '../../js/CanvasData';\r\n\r\nimport { ElMessage } from 'element-plus'\r\nexport default {\r\n  name: \"BasicCanvas\",\r\n  props:{\r\n    sources : Object,\r\n    W : Number,\r\n    H : Number,\r\n    strokeSize: {\r\n      type: Number,\r\n      default :1,\r\n    },\r\n    brushSize: {\r\n      type : Number,\r\n      default : 0,\r\n    },\r\n    blockX: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    blockY: {\r\n      type: Boolean,\r\n      default: false,\r\n    }\r\n\r\n  },\r\n  data(){\r\n    return {\r\n      enableZoom : true,\r\n      isGeneral : false,\r\n      isCrop : false,\r\n      isPaint : false,\r\n      isDown : -1,\r\n      selectTrk : 1,\r\n      unlock : true,\r\n      brushScale : 1,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n    this.cvs = this.$refs.canvas;\r\n    this.emptyCanvas(this.W, this.H, null);\r\n    this.cvs.onmousedown = this.mouseDown;\r\n    this.cvs.onmouseup = this.mouseUp;\r\n    this.cvs.onmousemove = this.mouseMove;\r\n    this.cvs.onMouseout = this.mouseOut;\r\n    this.cvs.onmousewheel = this.mouseWheel;\r\n  },\r\n  methods:{\r\n    callFunc(val){\r\n      let func = val.func, arg = val.arg;\r\n      this.$options.methods[func](this, arg);\r\n    },\r\n\r\n    setGeneral(_this, val){\r\n      _this.isGeneral = true;\r\n      _this.isCrop = false;\r\n      _this.isPaint = false;\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    setZoom(_this, val){\r\n      _this.enableZoom = val;\r\n    },\r\n\r\n    cleanSelectArea(){\r\n      let x, y, w, h;\r\n      [x, y, w, h] = this.canvasData.selectedArea()\r\n      if(w == 0 || h == 0)\r\n        return;\r\n      this.ctx.clearRect(x, y, w, h);\r\n    },\r\n    getMousePos(evt) {\r\n      let cvs = this.cvs;\r\n      let rect = cvs.getBoundingClientRect();\r\n      return [\r\n        (evt.clientX -rect.left) * cvs.width / rect.width,\r\n        (evt.clientY -rect.top) * cvs.height / rect.height\r\n      ];\r\n    },\r\n\r\n    emptyCanvas(w, h, val){\r\n      let cvs = this.cvs;\r\n      cvs.width = w;\r\n      cvs.height = h;\r\n      if(val == null)\r\n        this.canvasData = null;\r\n      else\r\n        this.refreshData(val);\r\n    },\r\n    refreshData(val){\r\n      this.canvasData = createCanvasData(val, this.cvs.width, this.cvs.height, this.blockX, this.blockY, this.brushSize);\r\n      this.setGeneral(this);\r\n      this.refresh();\r\n    },\r\n    paint(cleanFirst=0, mode=\"general\"){\r\n      if(cleanFirst == 1)\r\n        this.ctx.clearRect(0, 0, this.cvs.width, this.cvs.height);\r\n      else if(cleanFirst == 2)\r\n        this.cleanSelectArea();\r\n      this.canvasData.paint_all_data(mode, this.fill_rect);\r\n    },\r\n\r\n    fill_rect(px1, py, pxw, pyw, c, mode) {\r\n      let ctx = this.ctx;\r\n      ctx.fillStyle = c;\r\n      let brushScale = this.canvasData.getScale();\r\n      ctx.fillRect(px1, py, pxw + this.brushSize * brushScale[0], pyw + this.brushSize * brushScale[1]);\r\n      if(mode == \"select\"){\r\n        ctx.lineWidth = this.strokeSize;\r\n        ctx.strokeStyle = \"rgb(87,87,87)\";\r\n        ctx.strokeRect(px1, py, pxw + this.brushSize * brushScale[0], pyw + this.brushSize * brushScale[1]);\r\n      }\r\n      if(mode == \"activate\"){\r\n        ctx.fillStyle = \"rgba(0,0,0,0.8)\";\r\n        ctx.fillRect(px1, py, pxw + this.brushSize * brushScale[0], pyw + this.brushSize * brushScale[1]);\r\n      }\r\n    },\r\n\r\n    mouseWheel(e){\r\n      if(this.canvasData == null){\r\n        return;\r\n      }\r\n      let direction = e.deltaY > 0 ? 'down':'up';\r\n      //let dt = this.brushSize > 0 ? 0.2 / this.brushSize: 0;\r\n      if (direction=='up' && e.deltaY <= -5){\r\n        let pos = this.getMousePos(e);\r\n\r\n        this.canvasData.scaleView(0.9, pos)\r\n        this.paint_all_data(1, \"all\");\r\n        this.mouseMoveAction();\r\n\r\n      }else if(direction=='down' && e.deltaY >= 125){\r\n        let pos = this.getMousePos(e);\r\n        this.canvasData.scaleView(1.1, pos);\r\n        this.paint_all_data(1, \"all\");\r\n        this.mouseMoveAction();\r\n      }\r\n      e.preventDefault();\r\n    },\r\n    mouseDown(evt){\r\n      this.isDown = evt.button;\r\n      if(this.canvasData == null || this.isDown != 0)\r\n        return;\r\n      this.paint_all_data(2, \"highlight\");\r\n      this.mouseDownAction();\r\n      let pos = this.getMousePos(evt);\r\n      this.canvasData.setSelectedArea(pos, pos);\r\n      if(this.isGeneral)\r\n        this.canvasData.backupStateDataBorder();\r\n      evt.preventDefault();\r\n    },\r\n    mouseDownAction(){\r\n    },\r\n    mouseOut(evt){\r\n      this.mouseUp(evt);\r\n    },\r\n    mouseUp(evt){\r\n      if (this.isDown > -1) {\r\n        this.isDown = -1;\r\n      }\r\n      evt.preventDefault();\r\n    },\r\n    mouseMove(evt){\r\n      if(this.canvasData == null || this.isDown != 0)\r\n        return;\r\n      let newCenter = this.getMousePos(evt)\r\n      if (this.isGeneral) {\r\n        this.canvasData.moveView(newCenter);\r\n        this.paint_all_data(1, \"all\");\r\n        this.mouseMoveAction();\r\n      }else if (this.unlock){\r\n        this.unlock = false;\r\n        this.paint_all_data(2, \"highlight\");\r\n        this.canvasData.setSelectedArea(null, newCenter);\r\n        this.ctx.fillStyle = \"rgba(0,255,196,0.22)\";\r\n        let x, y, w, h;\r\n        [x, y, w, h] = this.canvasData.selectedArea();\r\n        if(w > 4 && h > 4){\r\n          this.ctx.fillRect(x + 2, y + 2, w - 2, h - 2);\r\n          this.paint_all_data(0, \"highlight\");\r\n        }\r\n        let c = this.canvasData.filter()\r\n        this.timbreSpaceAction(\"updateColor\", c);\r\n        this.unlock = true;\r\n      }\r\n      evt.preventDefault();\r\n    },\r\n    mouseMoveAction(){\r\n\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.canvasAreaCSS{\r\n  position: relative;\r\n  //background-color: rgba(239, 238, 238, 0.99);\r\n  //box-shadow: 0 0 3px 3px #666;\r\n}\r\n</style>\r\n\r\n","import {copy, formatRect, swap} from \"@/js/ultilities\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nclass CanvasData{\r\n    constructor(val, canvasW, canvasH, blockX, blockY, brushSize){\r\n        this.brushSize = brushSize;\r\n        this.blockX = blockX;\r\n        this.blockY = blockY;\r\n        this.paintedData = val.data.data;\r\n        this.paintedColor =val.color;\r\n        this.border = val.data.border\r\n        this.canvasW = canvasW;\r\n        this.canvasH = canvasH;\r\n        this.initialize();\r\n    }\r\n    initialize(){\r\n        this.initColors();\r\n        this.initBorder();\r\n        this.initProps();\r\n        this.pushInStack();\r\n    }\r\n    initColors(){\r\n        let darkColors = [\"rgb(194,194,194)\", \"rgb(255,202,202)\",\r\n        \"rgb(172,212,255)\", \"rgb(252,243,154)\", \"rgb(158,255,152)\",\r\n        \"rgb(210,164,252)\", \"rgb(252,187,122)\"];\r\n        let lightColors = [\"rgb(121,121,121)\", \"rgb(255,0,0)\",\r\n        \"rgb(0,124,255)\", \"rgb(252,228,0)\", \"rgb(13,243,0)\",\r\n        \"rgb(130,0,248)\", \"rgb(255,132,0)\"];\r\n        let alphaColors = [\"rgba(75,75,75,0.63)\", \"rgba(150,0,0,0.74)\",\r\n        \"rgba(0,67,141,0.77)\", \"rgba(148,138,0,0.7)\", \"rgba(3,141,0,0.68)\",\r\n        \"rgba(70,0,140,0.74)\", \"rgba(140,70,0,0.68)\"];\r\n        this.lightColors = lightColors;\r\n        this.darkColors = darkColors;\r\n        this.alphaColors = alphaColors;\r\n    }\r\n    initBorder(){\r\n        this.selectedTrk = 1;\r\n        this.dataNum = this.paintedData.length;\r\n        this.viewDataBorder = copy(this.border);\r\n        this.stateDataBorder = copy(this.border);\r\n        this.clickCenter = [0, 0];\r\n        this.currentCenter = [this.canvasW, this.canvasH];\r\n    }\r\n    initProps(){\r\n        this.dataStack = [];\r\n        this.stackCur = 0;\r\n        this.xlimit = 63;\r\n        this.ylimit = 1;\r\n    }\r\n    updateColor(c){\r\n        this.paintedColor = c;\r\n    }\r\n    setSparseView(){\r\n        this.darkColors[0] = \"rgba(255,255,255,0)\";\r\n    }\r\n    setSelectedTrk(val){\r\n        this.selectedTrk = val;\r\n    }\r\n    hasNoData(){\r\n        return this.paintedData == null;\r\n    }\r\n    pos2data(x, y, state=false){\r\n      if(state){\r\n        x = x / this.canvasW * (this.stateDataBorder[2] - this.stateDataBorder[0]) + this.stateDataBorder[0];\r\n        y = y / this.canvasH * (this.stateDataBorder[3] - this.stateDataBorder[1]) + this.stateDataBorder[1];\r\n      }else{\r\n        x = x / this.canvasW * (this.viewDataBorder[2] - this.viewDataBorder[0]) + this.viewDataBorder[0];\r\n        y = y / this.canvasH * (this.viewDataBorder[3] - this.viewDataBorder[1]) + this.viewDataBorder[1];\r\n      }\r\n      return [x, y];\r\n    }\r\n    data2pos(x, y){\r\n      x = (x - this.viewDataBorder[0]) / (this.viewDataBorder[2] - this.viewDataBorder[0]) * this.canvasW;\r\n      y = (y - this.viewDataBorder[1]) / (this.viewDataBorder[3] - this.viewDataBorder[1]) * this.canvasH;\r\n      return [x, y];\r\n    }\r\n    formatData(p){\r\n      let x = p[0], y = p[1];\r\n      x = x * (this.border[2] - this.border[0]) / this.canvasW;\r\n      y = y * (this.border[3] - this.border[1]) / this.canvasH;\r\n      x = Math.round(x) / (this.border[2] - this.border[0]) * this.canvasW;\r\n      y = Math.round(y) / (this.border[3] - this.border[1]) * this.canvasH;\r\n      return [x, y];\r\n    }\r\n    formatViewBorderUnit(i, block=true){\r\n      let scale = (this.border[2 + i] - this.border[i]) / (this.viewDataBorder[2 + i] - this.viewDataBorder[i]);\r\n      if(scale < 1){\r\n        this.viewDataBorder[i] = this.border[i];\r\n        this.viewDataBorder[2 + i] = this.border[2 + i];\r\n      }\r\n      if (this.viewDataBorder[i] < this.border[i]){\r\n          if(block)\r\n            this.viewDataBorder[2 + i] += this.border[i] - this.viewDataBorder[i];\r\n        this.viewDataBorder[i] = this.border[i];\r\n      } else if (this.viewDataBorder[2 + i] > this.border[2 + i]){\r\n          if(block)\r\n            this.viewDataBorder[i] -= (this.viewDataBorder[2 + i] - this.border[2 + i]);\r\n        this.viewDataBorder[2 + i] = this.border[2 + i];\r\n      }\r\n    }\r\n    formatViewBorder(block=true){\r\n      this.formatViewBorderUnit(0, block);\r\n      this.formatViewBorderUnit(1, block);\r\n    }\r\n    selectedData(){\r\n      let x, y, w, h, x1, x2, y1, y2;\r\n      [x, y, w, h] = formatRect(this.clickCenter, this.currentCenter);\r\n      [x1, y1] = this.pos2data(x, y);\r\n      [x2, y2] = this.pos2data(x + w, y + h);\r\n      x1 = Math.round(x1);\r\n      x2 = Math.round(x2);\r\n      y1 = Math.round(y1);\r\n      y2 = Math.round(y2);\r\n      return [x1, y1, x2, y2];\r\n    }\r\n    selectedArea(){\r\n        let x1, x2, y1, y2;\r\n        [x1, y1, x2, y2] = this.selectedData();\r\n        [x1, y1] = this.data2pos(x1, y1);\r\n        [x2, y2] = this.data2pos(x2, y2);\r\n        return [x1, y1, x2 - x1, y2 - y1];\r\n    }\r\n    resetSelectedArea(){\r\n      this.clickCenter = [0, 0];\r\n      this.currentCenter = [this.canvasW, this.canvasH];\r\n    }\r\n    resetViewBorder(){\r\n      this.viewDataBorder = copy(this.border);\r\n    }\r\n    setSelectedArea(pos1, pos2){\r\n        if(pos1 != null)\r\n            this.clickCenter = pos1;\r\n        if(pos2 != null)\r\n            this.currentCenter = pos2;\r\n    }\r\n    paint_all_data(mode, fill_rect){\r\n      let x, y, w, h, ind, x1, y1, x2, y2;\r\n      if(mode == \"all\"){\r\n          x = 0;\r\n          y = 0;\r\n          w = this.canvasW;\r\n          h = this.canvasH;\r\n          mode = \"general\";\r\n      } else\r\n         [x, y, w, h] = this.selectedArea();\r\n      if(w == 0 || h == 0)\r\n        return;\r\n      [x1, y1] = this.pos2data(x, y);\r\n      [x2, y2] = this.pos2data(x + w, y + h);\r\n      ind = 0;\r\n      while(ind != - 1){\r\n        ind = this.paint_data_unit(ind, x1, y1, x2, y2, mode, fill_rect);\r\n      }\r\n    }\r\n    paint_data_unit(index, x1, y1, x2, y2, mode, fill_rect){\r\n      let data = this.paintedData;\r\n      let c = this.paintedColor[index];\r\n      let activate = c - 1 == this.selectedTrk;\r\n      c = activate ? this.lightColors[c - 1] : this.darkColors[c - 1];\r\n\r\n      let pre = index, next = data[index][2];\r\n      if(data[index][0] > x2 )\r\n        return next;\r\n      if(data[index][1]> y2)\r\n        return next;\r\n      if(data[index][1] < y1)\r\n        return next;\r\n\r\n      let color = this.paintedColor, skip = -1;\r\n      while(next > -1 && data[pre][1] == data[next][1] && data[pre][0] + 1 >= data[next][0]){\r\n        if(color[next] != color[index]) {\r\n          while (next > -1 && color[next] != color[index]) {\r\n              if(skip == -1)\r\n                  skip = next;\r\n              next = data[next][2];\r\n          }\r\n        }else{\r\n          pre = next\r\n          next = data[pre][2];\r\n        }\r\n      }\r\n      if(data[pre][0] < x1)\r\n        return skip > 0 ?skip : next;\r\n\r\n      if(activate)\r\n        mode = \"select\";\r\n\r\n      let dt = this.brushSize > 0 ? 0 : 1;\r\n      let pyw = this.brushSize > 0? this.brushSize : this.canvasH / (this.viewDataBorder[3] - this.viewDataBorder[1]);\r\n      if(mode == \"background\"){\r\n        c = this.darkColors[0];\r\n      }\r\n      let px1, px2, py, pxw;\r\n      [px1, py] = this.data2pos(data[index][0], data[index][1]);\r\n      [px2, py] = this.data2pos(data[pre][0] + dt, data[index][1]);\r\n      pxw = px2 - px1;\r\n      fill_rect(px1, py, pxw, pyw, c, mode);\r\n      return skip > 0 ?skip : next;\r\n    }\r\n\r\n    backupStateDataBorder(){\r\n        this.stateDataBorder = copy(this.viewDataBorder);\r\n    }\r\n    getYRange(bound, sign){\r\n        return [bound + sign * this.border[3], bound - sign * this.border[1]];\r\n    }\r\n    getBarPos(sec){\r\n        let pos = this.data2pos(sec, 0);\r\n        if(this.viewDataBorder[2] < this.border[2] && sec > (this.viewDataBorder[0] + this.viewDataBorder[2]) / 2 && sec <=this.viewDataBorder[2]) {\r\n            let center = this.data2pos((this.viewDataBorder[0] + this.viewDataBorder[2]) / 2, 0);\r\n            this.setSelectedArea(pos, pos);\r\n            this.backupStateDataBorder();\r\n            this.moveView(center);\r\n        }\r\n        return this.data2pos(sec, 0)[0];\r\n    }\r\n    getXViewBorder(){\r\n        return [Math.floor(this.viewDataBorder[0] / 62.5), this.viewDataBorder[1],\r\n            Math.floor(this.viewDataBorder[2] / 62.5), this.viewDataBorder[3]];\r\n    }\r\n    getScale(){\r\n      return [(this.border[2] - this.border[0]) / (this.viewDataBorder[2] - this.viewDataBorder[0]),\r\n        (this.border[3] - this.border[1]) / (this.viewDataBorder[3] - this.viewDataBorder[1])]\r\n    }\r\n    moveView(pos, dt=1){\r\n        let xdt = 1, ydt = 1;\r\n        this.currentCenter = pos;\r\n        if(this.currentCenter[0] < this.clickCenter[0])\r\n            xdt = -1;\r\n        if(this.currentCenter[1] < this.clickCenter[1])\r\n            ydt = -1;\r\n        let [x1, y1, x2, y2] = this.selectedData();\r\n        let xdis = x2 - x1, ydis = y2 - y1;\r\n        this.viewDataBorder[0] = this.stateDataBorder[0] - xdis * xdt;\r\n        this.viewDataBorder[1] = this.stateDataBorder[1] - ydis * ydt;\r\n        this.viewDataBorder[2] = this.stateDataBorder[2] - xdis * xdt;\r\n        this.viewDataBorder[3] = this.stateDataBorder[3] - ydis * ydt;\r\n        this.formatViewBorder();\r\n    }\r\n\r\n    scaleView(scale, pos){\r\n      if (scale == 1){\r\n        return;\r\n      }\r\n      if (scale > 1){\r\n          if(this.viewDataBorder[0] == this.border[0] && this.viewDataBorder[1] == this.border[1]\r\n            && this.viewDataBorder[2] == this.border[2] && this.viewDataBorder[3] == this.border[3])\r\n            return;\r\n      }\r\n      if (scale < 1){\r\n          if(this.viewDataBorder[2] - this.viewDataBorder[0] < 1)\r\n              return;\r\n          if(this.viewDataBorder[2] - this.viewDataBorder[0] <= this.xlimit || this.viewDataBorder[3] - this.viewDataBorder[1] <= this.ylimit)\r\n              return;\r\n      }\r\n      let x, y, w, h, offsetX, offsetY;\r\n      //[x, y] = this.pos2data(pos[0], pos[1], false);\r\n      w = this.viewDataBorder[2] - this.viewDataBorder[0];\r\n      h = this.viewDataBorder[3] - this.viewDataBorder[1];\r\n      //offsetX = (x - this.viewDataBorder[0]) * scale;\r\n      //offsetY = (y - this.viewDataBorder[1]) * scale;\r\n      //w = w * scale;\r\n      //h = h * scale;\r\n      [x, y] = this.pos2data(pos[0] - pos[0] * scale, pos[1] - pos[1] * scale)\r\n      if(!this.blockX){\r\n          this.viewDataBorder[0] = x;\r\n          this.viewDataBorder[2] = this.viewDataBorder[0] + w * scale;\r\n      }\r\n      if(!this.blockY){\r\n          this.viewDataBorder[1] = y;\r\n          this.viewDataBorder[3] = this.viewDataBorder[1] + h * scale;\r\n      }\r\n      this.formatViewBorder(false);\r\n    }\r\n\r\n    smallView(){\r\n        let x1, y1, x2, y2;\r\n        [x1, y1, x2, y2] = this.selectedData();\r\n        return [x1 + 2, y1 + 2, x2 - 2, y2 - 2]\r\n    }\r\n    pushInStack(cover=false, load=null){\r\n     if(cover){\r\n       this.dataStack[this.stackCur - 1] = [copy(this.paintedData), copy(this.paintedColor)];\r\n            return;\r\n       }\r\n     let val, c;\r\n     if(load != null){\r\n         let data = copy(this.dataStack[load]);\r\n         val = data[0];\r\n         c = data[1];\r\n     }else{\r\n         val = copy(this.paintedData);\r\n         c = copy(this.paintedColor);\r\n     }\r\n      if(this.stackCur == this.dataStack.length)\r\n        this.dataStack.push([val, c]);\r\n      else\r\n        this.dataStack[this.stackCur] = [val, c];\r\n      if(this.dataStack.length > 30)\r\n        this.dataStack = this.dataStack.slice(1, this.dataStack.length - 1);\r\n      else\r\n          this.stackCur ++;\r\n      if(this.stackCur != this.dataStack.length)\r\n          this.dataStack = this.dataStack.slice(0, this.stackCur);\r\n    }\r\n    replace(c=0, reverse=false, revise=false){\r\n        this.pushInStack(true);\r\n      let ind = 0, data = this.paintedData, color = this.paintedColor, x1, x2, y1, y2, a, b;\r\n      [x1, y1, x2, y2] = this.selectedData();\r\n      while(ind > -1){\r\n        [a, b] = [data[ind][0], data[ind][1]];\r\n        if(a >= x1 && b >= y1 && a < x2 && b < y2){\r\n          if(!reverse){\r\n              color[ind] = c;\r\n              if(revise)\r\n                data[ind][3] = 1;\r\n          }\r\n        }else if (reverse){\r\n            color[ind] = c;\r\n        }\r\n        ind = data[ind][2];\r\n      }\r\n      this.pushInStack();\r\n    }\r\n    crop(resize=true, reverse=true, c=1, revise=false){\r\n        let x1, y1, x2, y2;\r\n        [x1, y1, x2, y2] = this.selectedData();\r\n        if(x2 - x1 < 0 || y2 - y1 < 0){\r\n            ElMessage('Please select a larger clip.')\r\n            return;\r\n        }\r\n        if(this.blockX){\r\n            x1 = this.border[0];\r\n            x2 = this.border[2];\r\n        }\r\n        if(this.blockY){\r\n            y1 = this.border[1];\r\n            y2 = this.border[3];\r\n        }\r\n        this.replace(c, reverse, revise);\r\n        if(resize){\r\n            this.viewDataBorder = [x1, y1, x2, y2];\r\n            this.resetSelectedArea();\r\n        }\r\n\r\n    }\r\n    filter(){\r\n        this.crop(false, true);\r\n        let c = this.paintedColor;\r\n        this.undo();\r\n        return c;\r\n    }\r\n    revise(){\r\n        this.crop(false, false, this.selectedTrk + 1, true);\r\n    }\r\n    erase(){\r\n        this.crop(false, false, 1, true);\r\n    }\r\n    reset(){\r\n        [this.paintedData, this.paintedColor] = this.dataStack[0];\r\n        this.stackCur = 1;\r\n        this.resetSelectedArea();\r\n        this.resetViewBorder();\r\n    }\r\n    undo(){\r\n        if(this.stackCur <= 1)\r\n            return;\r\n        [this.paintedData, this.paintedColor] = this.dataStack[this.stackCur - 2];\r\n        this.stackCur --;\r\n    }\r\n    redo(){\r\n        if(this.stackCur === this.dataStack.length)\r\n            return;\r\n        [this.paintedData, this.paintedColor] = this.dataStack[this.stackCur];\r\n        this.stackCur ++;\r\n    }\r\n}\r\nfunction createCanvasData(paintedData, paintedColor, canvasW, canvasH, blockX, blockY, brushSize){\r\n    let canvasData = new CanvasData(paintedData, paintedColor, canvasW, canvasH, blockX, blockY, brushSize);\r\n    return canvasData;\r\n}\r\nexport {createCanvasData}\r\n","import { render } from \"./BasicCanvas.vue?vue&type=template&id=0806dbe7\"\nimport script from \"./BasicCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./BasicCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./BasicCanvas.vue?vue&type=style&index=0&id=0806dbe7&lang=scss\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\r\nimport {createTimbreDB} from \"../../js/TimbreDB\"\r\nimport BasicCanvas from \"@/components/canvas/BasicCanvas\";\r\nimport {formatTime} from \"@/js/ultilities\";\r\n\r\nexport default {\r\n  extends: BasicCanvas,\r\n  name: \"TimbreSpaceCanvas\",\r\n  methods:{\r\n    refresh(){\r\n      this.canvasData.setSparseView();\r\n    },\r\n    initSpace(pca, center){\r\n      this.timbreDB = createTimbreDB(pca, center);\r\n    },\r\n    paint_all_data(cleanFirst=0, mode=\"general\"){\r\n      this.paint(cleanFirst, mode);\r\n      this.paintTimbreDB();\r\n    },\r\n    changeTrk(_this, trk){\r\n      _this.canvasData.setSelectedTrk(trk);\r\n    },\r\n    updateColor(_this, color){\r\n      _this.canvasData.updateColor(color);\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    paintTimbreDB(){\r\n      let centers = this.timbreDB.getCenters();\r\n      for(let i = 0; i < centers.data.length; ++i){\r\n        let x, y, tag;\r\n        [x, y] = centers.data[i];\r\n        tag = centers.tag[i];\r\n        this.drawEmbeddingCenter(x, y, tag, i);\r\n      }\r\n\r\n    },\r\n    drawEmbeddingCenter(x, y, t, c){\r\n      let ctx = this.ctx;\r\n      ctx.beginPath();\r\n      ctx.fillStyle = this.canvasData.alphaColors[c + 1];\r\n      let pos = this.canvasData.data2pos(x * 1000, y* 1000);\r\n      ctx.arc(pos[0], pos[1],this.brushSize * 4, 0,2*Math.PI);\r\n      ctx.fill();\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = \"black\"\r\n      ctx.arc(pos[0], pos[1],this.brushSize * 4, 0,2*Math.PI);\r\n      ctx.stroke();\r\n      ctx.fillStyle = \"black\";\r\n      ctx.font = \"20px serif\";\r\n      ctx.fillText(t, pos[0], pos[1])\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./TimbreSpaceCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./TimbreSpaceCanvas.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport BasicCanvas from \"@/components/canvas/BasicCanvas\";\r\n\r\nexport default {\r\n  extends: BasicCanvas,\r\n  name: \"PianoRollCanvas\",\r\n  mounted() {\r\n\r\n  },\r\n  methods:{\r\n    mouseDownAction(){\r\n      this.updateTimbreSpace();\r\n    },\r\n    mouseMoveAction(){\r\n      this.updateSecRange();\r\n    },\r\n    refresh(){\r\n      let pitchRange = this.canvasData.getYRange(129, -1);\r\n      this.timbrePanelAction(\"setPitchRange\", pitchRange);\r\n      this.updateSecRange();\r\n    },\r\n    paint_all_data(cleanFirst=0, mode=\"general\"){\r\n      this.paint(cleanFirst, mode);\r\n    },\r\n    pianoPanelAction(func, arg){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"pianoPanelAction\", val);\r\n    },\r\n    timbrePanelAction(func, arg){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbrePanelAction\", val);\r\n    },\r\n    timbreSpaceAction(func, arg){\r\n      let val = {\"func\" : func, \"arg\" : arg};\r\n      this.$emit(\"timbreSpaceAction\", val);\r\n    },\r\n    updateTimbreSpace(){\r\n      this.timbreSpaceAction(\"updateColor\", this.canvasData.paintedColor);\r\n    },\r\n    setJsonData(_this){\r\n      let val = {\"data\" : _this.canvasData.paintedData, \"color\": _this.canvasData.paintedColor};\r\n      _this.pianoPanelAction(\"setJsonData\", val);\r\n    },\r\n    crop(_this){\r\n      _this.canvasData.crop();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n      _this.updateSecRange();\r\n    },\r\n    reset(_this){\r\n      _this.canvasData.reset();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n      _this.updateSecRange();\r\n    },\r\n    fill(_this){\r\n      _this.replace(_this.selectTrk + 1, true);\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    revise(_this){\r\n      _this.canvasData.revise();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    erase(_this){\r\n      _this.canvasData.erase();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    updatePlayingBar(_this, sec){\r\n      if(_this.canvasData == null)\r\n        return;\r\n      let pos = _this.canvasData.getBarPos(Math.round(sec * 62.5));\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.ctx.fillStyle = \"rgba(0,255,196,0.22)\";\r\n      _this.ctx.fillRect(pos, 0, 5, _this.cvs.height);\r\n      _this.updateSecRange();\r\n    },\r\n    selectChangeTrk(_this, trk){\r\n      _this.canvasData.setSelectedTrk(trk);\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.timbreSpaceAction(\"changeTrk\", trk)\r\n      _this.updateTimbreSpace();\r\n    },\r\n    updateSecRange(){\r\n      let args = this.canvasData.getXViewBorder();\r\n      this.pianoPanelAction(\"updateSecRange\", args);\r\n    },\r\n\r\n    undo(_this){\r\n      _this.canvasData.undo();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    redo(_this){\r\n      _this.canvasData.redo();\r\n      _this.paint_all_data(1, \"all\");\r\n      _this.updateTimbreSpace();\r\n    },\r\n    setPaint(_this, val){\r\n      _this.isGeneral = false;\r\n      _this.isCrop = false;\r\n      _this.isPaint = true;\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n    setCrop(_this){\r\n      _this.isGeneral = false;\r\n      _this.isCrop = true;\r\n      _this.isPaint = false;\r\n      _this.paint_all_data(1, \"all\");\r\n    },\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./PianoRollCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./PianoRollCanvas.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./DoodlePanel.vue?vue&type=template&id=2b52cda1\"\nimport script from \"./DoodlePanel.vue?vue&type=script&lang=js\"\nexport * from \"./DoodlePanel.vue?vue&type=script&lang=js\"\n\nimport \"./DoodlePanel.vue?vue&type=style&index=0&id=2b52cda1&lang=scss\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=6efcc27d\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6efcc27d&lang=css\"\n\nimport exportComponent from \"D:\\\\linux\\\\wei_workspace\\\\demo_page\\\\santouguai_demo_v03\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import ElementPlus from 'element-plus'\nimport '../element-variables.scss'\n\nexport default (app) => {\n  app.use(ElementPlus)\n}\n","//import './plugins/axios'\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport installElementPlus from './plugins/element'\n//import installAxios from './plugins/axios'\n\nconst app = createApp(App)\ninstallElementPlus(app)\n//installAxios(app)\n\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksantouguai_demo_v03\"] = self[\"webpackChunksantouguai_demo_v03\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1165); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_DoodlePanel","class","ref","_createElementVNode","_createVNode","_component_el_affix","offset","_component_piano_canvas","_component_time_ticker_canvas","_component_piano_roll_canvas","canvasName","W","$data","H","blockY","onPianoPanelAction","$options","onTimbrePanelAction","onTimbreSpaceAction","_component_piano_panel","sources","onPianoRollAction","onUpdateCanvas","onRefreshCanvas","_component_timbre_space_canvas","brushSize","strokeSize","_component_timbre_panel","_createElementBlock","_hoisted_2","_component_el_button","type","size","disabled","plain","_component_el_input","$event","placeholder","prepend","_component_el_select","onChange","style","_Fragment","_renderList","item","_component_el_option","key","id","label","value","_hoisted_13","_component_el_slider","range","max","min","name","components","props","Object","data","analyzed","instr","pitchRange","pitchMin","pitchMax","selectTrk","allSources","this","methods","callFunc","val","func","arg","setPitchRange","_this","setAnalyzed","pianoRollAction","$emit","timbreSpaceAction","onChangePitchRange","evt","onSelectChangeTrk","__exports__","_hoisted_3","_hoisted_4","_component_el_radio_group","_component_el_radio","_hoisted_12","_component_el_checkbox","_component_audio_panel","onSetAnalyze","onSetAudioData","onUpdatePlayingBar","_component_transfer_data_dialog","onSetAnalyzed","onSetRepData","onSetSepData","_hoisted_18","_hoisted_21","_hoisted_24","onClick","_component_save_change_dialog","_component_el_upload","action","limit","_hoisted_6","controls","src","onTimeupdate","current","total","sepURL","mode","enableAudioSubmit","audioSrc","hasRawInput","hasSeparate","minDur","maxDur","currentDur","totalDur","processStr","getFormatProcess","watch","currentCur","mounted","audio","document","getElementById","padNum","x","n","Array","join","slice","formatTime","s","m","Math","floor","a","b","updateTime","e","target","currentTime","onChangeFile","file","raw","isAudio","valiSize","$message","error","urlReader","FileReader","readAsDataURL","audioData","onloadend","oFRevent","mixtureURL","result","setAnalyze","$refs","uploadRef","clearFiles","onClickUpload","submit","onClickPlay","play","onChangeMode","res","changeAudioSrc","pause","onloadedmetadata","setSepData","console","log","pos","setSelectTrk","handleExceed","files","handleStart","href","_component_el_dialog","title","footer","_component_el_form","_component_el_timeline","_component_el_timeline_item","timestamp","loading","disAnalyze","sourcesNum","dialogFormVisible","selectedFile","jsonData","setAudioData","onClickDownloadData","audioType","blob","Blob","zip","JSZip","dataPath","metaData","JSON","stringify","generateAsync","compression","compressionOptions","level","then","content","saveAs","isVali","onClickConfirm","arReader","readAsArrayBuffer","audioBlob","base","async","setRepData","json","parse","i","unit","URL","createObjectURL","onSelectChangeSourcesNum","copy","formatRect","p1","p2","y","w","h","encode","out","length","charCodeAt","Uint8Array","float","sec","toFixed","padStart","setJsonData","mix","showDialog","str","json_blob","json_dataPath","audio_path","transferUploadRef","SaveChangeDialog","TransferDataDialog","AudioPanel","enableZoom","isSelect","resUrl","formLabelWidth","isDrag","isCrop","isPaint","minSec","maxSec","transferDataDialog","audioPanel","reset","saveChangeDialog","push","pca","center","updatePlayingBar","onSetDrag","onSetPaint","onSetCrop","onChangeZoom","updateSecRange","onClickCrop","onClickRevise","onClickErase","onClickFill","onClickUndo","onClickRedo","onClickReset","onClickRefine","cvs","canvas","ctx","getContext","setSize","width","height","formatSec","minSc","maxSc","dt","refresh","scale","MB","clearRect","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","fillText","padH","getWhiteKeys","register","minPitch","maxPitch","onset","keys_num","strokeRect","TimbreDB","constructor","mean","cps","centerEmb","initialize","centerData","pcaTransform","tags","centerTags","j","k","getCenters","createTimbreDB","timbreDB","CanvasData","canvasW","canvasH","blockX","paintedData","paintedColor","color","border","initColors","initBorder","initProps","pushInStack","darkColors","lightColors","alphaColors","selectedTrk","dataNum","viewDataBorder","stateDataBorder","clickCenter","currentCenter","dataStack","stackCur","xlimit","ylimit","updateColor","c","setSparseView","setSelectedTrk","hasNoData","pos2data","state","data2pos","formatData","p","round","formatViewBorderUnit","block","formatViewBorder","selectedData","x1","x2","y1","y2","selectedArea","resetSelectedArea","resetViewBorder","setSelectedArea","pos1","pos2","paint_all_data","fill_rect","ind","paint_data_unit","index","activate","pre","next","skip","px1","px2","py","pxw","pyw","backupStateDataBorder","getYRange","bound","sign","getBarPos","moveView","getXViewBorder","getScale","xdt","ydt","xdis","ydis","scaleView","smallView","cover","load","replace","reverse","revise","crop","resize","ElMessage","filter","undo","erase","redo","createCanvasData","canvasData","Number","default","Boolean","isGeneral","isDown","unlock","brushScale","emptyCanvas","onmousedown","mouseDown","onmouseup","mouseUp","onmousemove","mouseMove","onMouseout","mouseOut","onmousewheel","mouseWheel","setGeneral","setZoom","cleanSelectArea","getMousePos","rect","getBoundingClientRect","clientX","left","clientY","top","refreshData","paint","cleanFirst","fillStyle","fillRect","direction","deltaY","mouseMoveAction","preventDefault","button","mouseDownAction","newCenter","extends","BasicCanvas","initSpace","paintTimbreDB","changeTrk","trk","centers","tag","drawEmbeddingCenter","t","arc","PI","fill","font","updateTimbreSpace","timbrePanelAction","pianoPanelAction","selectChangeTrk","args","setPaint","setCrop","PianoRollCanvas","TimbreSpaceCanvas","PianoCanvas","TimeTickerCanvas","TimbrePanel","PianoPanel","canvasLCssW","canvasLCssH","canvasRCssW","canvasRCssH","canvasLFix","canvasRFix","clientWidth","clientHeight","testCanvas","timbrePalette","timbreTicker","canvasTimeTickerTCss","piano","canvasPianoLCss","refreshCanvas","pianoroll","pianoRoll","timbre","updateCanvas","pianoPanel","timbrePanel","DoodlePanel","render","app","use","ElementPlus","createApp","App","installElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}